<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>iCalendar</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }

</style>
</head>
<body class="article">
<div id="header">
<h1><span class="image"><img src="../images/iCalendar_icon.png" alt="iCalendar" width="70" height="70"></span> iCalendar</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ce plugin iCalendar vous permet de récupérer les événements d&#8217;un agenda gérant le format de fichier iCalendar, dans un fichier .ics :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>soit en téléchargement d&#8217;un fichier ics (google, zimbra, outlook, &#8230;)</p>
</li>
<li>
<p>soit en Caldav (lecture seule pour l&#8217;instant avec cache locale sur la période de synchro)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>L’utilisateur dispose de 3 modes de fonctionnement :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>tester la présence de l’évènement et l’état de celui-ci via une condition dans un scénario (utilisation de l’opérateur "matches" pour savoir si une chaîne de caractères en contient une autre).</p>
</li>
<li>
<p>définir au niveau des l'événement des "scénario" ou "action" qui pourront être automatiquement lancé par jeedom, soit en début ou en fin d'événement.</p>
</li>
<li>
<p>reconnaissance d&#8217;une "interaction" sur le contenu du titre ; après à vous de définir les actions produites par l&#8217;intéraction.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ce plugin permet de retourner les évènements de votre agenda iCalendar, il suffit pour cela de créer un équipement et de lui ajouter autant de "commandes" que vous avez d&#8217;agenda à traiter. Même s’il y beaucoups de paramètres, la configuration du plugin est simple : les paramètres par défaut peuvent être conservés, ce qui facilite la création.<br>
Vous pouvez l’utiliser pour l&#8217;affichage d&#8217;agenda tout simplement ou pour récupérer des agendas vous permettant de réaliser des actions dans votre installation Jeedom.</p>
</div>
<hr>
<div class="sect2">
<h3 id="_installation_et_configuration_du_plugin">Installation et configuration du plugin</h3>
<div class="paragraph">
<p>Après téléchargement du plugin, vous devez l&#8217;activer pour profiter de ces fonctionnalité.<br>
Des paramètres de configuration vous sont proposés, mais les valeurs par défaut peuvent être conservées.<br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_install.png" alt="iCalendar_install"></span></p>
</div>
<table class="tableblock frame-topbot grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:16%;">
<col style="width:66%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Paramètre</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TimeOut de syncrho</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option vous permet de définir le temps que vous souhaité laissé au plugin pour récupérer les données issus du calendrier distant.<br>
Théoriquement cette action est assez rapide, mais ce paramètre est disponible en cas de besoin.<br>
Les valeurs possibles sont : 5 sec / 15 sec / 30 sec.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pannel: vue par défaut</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lorsque vous allez sur l'écran "panel", cette option précise la vue qui sera affiché par défaut pour l&#8217;utilisateur.<br>
Les valeurs possibles sont :<br>
- Calendrier: jours<br>
- Calendrier: 4 jours<br>
- Calendrier: semaine<br>
- Calendrier: mois<br>
- Actions: planning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Afficher le panel desktop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Si coché, le panel "calendrier" sera affiché.</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>Une fois l&#8217;activation réalisée, depuis la page des "équipements" vous pourrez ajouter de nouveau calendrier iCalendar.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_pageequipement.png" alt="iCalendar_pageequipement"></span></p>
</div>
<div class="paragraph">
<p><strong>Remarque:</strong> Le bouton "Aide à la saisie d&#8217;actions au sein d&#8217;un événement" vous permet assister à la création du format à placer dans le champs description de votre événément.<br>
Pour rappel, le lancement automatiques d&#8217;actions par le plugin n&#8217;est possible que si l&#8217;option activer les actions/scénarios est validée au niveau de votre commande agenda. (cf. Annexe 1 : "Aide à la saisie d&#8217;un évènement dans votre agenda").</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_description_des_param_tres_de_l_quipement">Description des paramètres de l'équipement</h3>
<div class="paragraph">
<p>Un bouton "dupliquer", permet de dupliquer l'équipement et les commandes associées.<br></p>
</div>
<div class="paragraph">
<p><strong><span class="lime underline">L&#8217;onglet "Equipement"</span></strong> présente les informations standard de Jeedom :</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot2.jpg" alt="iCalendar_screenshot2"></span></p>
</div>
<table class="tableblock frame-topbot grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:16%;">
<col style="width:66%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Paramètre</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom de l’équipement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom donné à votre équipement agenda iCalendar, il s&#8217;affiche sur le widget.<br>
<strong>Remarque :</strong><br>
- il est possible de le masquer si vous cocher l&#8217;option "Ne pas afficher le nom" dans la configuration de la commande;<br>
- ce nom contient également un lien depuis le dashboard permettant de revenir directement à la configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Objet parent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Liste de choix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associe l'équipement agenda iCalendar à un objet (permettant de définir sa position sur le dashboard)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Si coché, active l'équipement.<br>
<strong>Remarque :</strong> Si l&#8217;option est décochée, l'équipement est désactivé et aucune requête ne sera demandée échangé avec votre agenda externe ; l'équipement est <em>"en attente"</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Visible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Si l&#8217;option est cochée, affiche l'équipement.<br>
<strong>Remarque :</strong> Si l&#8217;option est décochée, l'équipement fonctionne normalement; les requêtes continues d'être envoyées vers votre agenda externe, mais il ne s&#8217;affiche pas sur votre dashboard.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Catégorie</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(multichoix)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie la catégorie à laquelle est rattaché l&#8217;agenda.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Options de sauvegarde ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forcer  la synchronisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de réaliser une synchronisation des données de votre agenda, au moment de l&#8217;enregistrement de l'équipement.</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong><span class="lime underline">L&#8217;onglet "Paramètres complémentaires"</span></strong> :</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_config01.png" alt="iCalendar_config01"></span></p>
</div>
<table class="tableblock frame-topbot grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:16%;">
<col style="width:66%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Paramètre</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Paramètres graphiques ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autre Widget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option vous permet de désactiver le widget standard du plugin et donc d&#8217;utiliser le widget jeedom ou de créer son propre widget.<br>
<em>(Il est conseillé de laisser cette option décochée, pour disposer de l&#8217;ensemble des fonctionnalités du plugin).</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ne pas afficher la date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Si l&#8217;option est cochée la date est masquée sur le widget; le texte "aujourd&#8217;hui : JJ MOIS AAAA (SW)" n&#8217;est pas affiché pour le Dashboard et les vues.<br>
Au niveau de la version mobile, le logo avec la date du jour n&#8217;est pas affiché.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(multi journée) Format d&#8217;affichage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie le format d&#8217;affichage des calendriers (si plusieurs journées sélectionnées).<br>
"1 journée avec jour de navigation": permet d&#8217;afficher la journée courante ; pour voir les évènements des autres journées, cliquez sur la date.<br>
"tout affiché": permet d&#8217;afficher tous les évènements pour l&#8217;ensemble des jours sélectionnées.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(multi agenda) Format d&#8217;affichage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie le format d&#8217;affichage des calendiers, soit en mode verticale (standard) ou en mode horizontale.<br>
<strong>Remarque:</strong> Ne s&#8217;applique que pour la version Dashboard; la version mobile est toujours verticale.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redessiner la tuille automatiquement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de redimensionner automatiquement la tuille au niveau du dashbord desktop ou mobile, si le nombre d'évènement change.<br>
Cela évite que la liste sorte en dehors de la tuille.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Paramètres événements ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ajouter Message sur "action"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option permet d&#8217;ajouter un message à la boite des messages jeedom, dans le cas où le plugin a déclenché une action, un scénario ou une intéraction.<br>
<strong>Remarque :</strong> Pour cela, il faut avoir autoriser les actions/scénario ou interaction au niveau de votre commande agenda.<br>
Cette option ne fonctionne pas dans le cas d&#8217;une utilisation par déclenchement de scénario sur mise à jour de la commande.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autorise "Rattrapage" / Période</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em><br>
<br>
Liste de choix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L&#8217;activation de cette option permet de pouvoir lancer des actions/scénario/intéraction, mais si l&#8217;heure exacte de l'événement est dépassé.<br>
Le plugin dispose alors d&#8217;une fenêtre de temps pour déclencher ces actions, si elles n&#8217;ont pas été faite dans les temps.<br>
<strong>Remarque:</strong> Ce paramètre est surtout utile au petite config (RPI1) qui pouvait par moment se retrouve en dehors de la minute de début ou de fin de l'événement et l&#8217;action ne se lançait pas.<br>
<em>(exemple: événement débute à 8h30, hors à 30, il y a bcq de cron lancé. On pouvait constater que le cron minute était en fait traité à 31 ; l&#8217;instant T ne correspondant plus à l&#8217;heure de début de l'événement, les actions/sénarios associés étaient ignorées)</em><br>
Cette option peut aussi être utile en cas de coupure de courant coute, vous pourrez rattraper des actions non exécutées.<br>
<br>
Les périodes disponibles sont :<br>
- les 2 dernières minutes<br>
- les 5 dernières minutes<br>
- les 15 dernières minutes<br>
- l&#8217;heure précédente<br>
<strong>Remarque:</strong> ces 4 périodes sont en glissante par rapport à l&#8217;instant T.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Paramètres traitement ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log séparée par Agenda</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de séparer les fichiers de log des agendas (pour une meilleure lecture en mode débug).</p></td>
</tr>
</tbody>
</table>

<hr>
</div>
<div class="sect2">
<h3 id="_description_des_param_tres_des_agendas">Description des paramètres des agendas</h3>
<div class="paragraph">
<p>Les agendas peuvent être triés par ordre d&#8217;affichage, en cliquant sur l&#8217;icône "double flêches" en haut à gauche et en déplaçant le tableau de haut en bas.<br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot3.jpg" alt="iCalendar_screenshot3"></span></p>
</div>
<table class="tableblock frame-topbot grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:16%;">
<col style="width:66%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Paramètre</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Nom et URL ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de donner un nom au calendrier ; cette valeur s&#8217;affiche dans la zone de titre du calendier sur le widget.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom ics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom récupéré au niveau du fichier ICS ; valeur non modifiable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type d&#8217;agenda</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vous permet de définir le type d&#8217;agenda que vous configuré et la méthode de récupération de l&#8217;ICS. Les choix possibles sont :<br>
- <code>récupération d'un fichier ics</code> : correspond au téléchargement d&#8217;un fichier issue d&#8217;un serveur tier ;<br>
- <code>lecture d'un agenda CalDav</code> : permet de récuéprer le contenu d&#8217;un agenda CalDav et d&#8217;avoir un fichier ics local ;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL de l&#8217;agenda</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définit l&#8217;URL du fichier ics. Pour retrouver l&#8217;URL, voir l&#8217;Annexe 3.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utilisateur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(s&#8217;affiche uniquement en "caldav")<br>
Permet de définir le nom de l&#8217;utilisateur du serveur CalDav.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mot de passe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(s&#8217;affiche uniquement en "caldav")<br>
Permet de définir le mot de passe de l&#8217;utilisateur du serveur CalDav.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom agenda</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(s&#8217;affiche uniquement en "caldav")<br>
Caldav offrant la possibilité d&#8217;avoir plusieurs agendas actif, vous pouvez spécifié ici le nom de l&#8217;agenda à récupérer.<br>
Ce champs n&#8217;est pas obligatoire; s&#8217;il est non renseigné, le plugin prendra le 1er agenda retourné par le serveur Caldav ("personnal" généralement).<br>
<strong>Remarque:</strong> un bouton d&#8217;aide vous permet de visualiser la liste des agendas disponibles et de copier le nom de l&#8217;agenda souhaité.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Données d&#8217;utilisation ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format donnée</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste<br>
<em>("événement sur la journée" par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définit le "format" à afficher au niveau du widget et contenu dans la commande ; 3 valeurs sont disponibles (cf. Annexe 4) :<br>
- <code>événement sur la journée</code> : affiche et traite tous les évènements de la journée (passés, en cours, à venir) ;<br>
- <code>événement heure à venir</code> : affiche et traite les événements courants, + ceux de l&#8217;heure à venir (même s&#8217;ils n&#8217;ont pas démarré) ;<br>
- <code>événement courant</code> : affiche et traite les événements en cours uniquement ;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Titre uniquement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option n&#8217;est disponible que si "format de donnée" = " événement courant".<br>
Le contenu de la commande agenda est alors la plus simpliste possible, elle ne présente que les titres ; tous les paramètres annexes (id, état) à l'événement ne sont pas disponibles.<br>
<strong>Remarque: Si vous utilisez cette option, l&#8217;option "Autoriser les scénarios/actions" sera INVALIDEE techniquement.</strong><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Période à traiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste<br>
<em>("jour courant" par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définit le nombre de jours à traier :<br>
- <code>jour courant</code> : gère les données de la journée courante au niveau de la commande "J0" ;<br>
- <code>+ lendemain</code> : gère les données de la journée courante et celles du lendemain (J0+J1) ;<br>
- <code>+ 2jours</code> : gère les données de la journée courante et celles des 2 jours suivants (J0+J1+J2) ;<br>
- <code>1 semaine</code> : gère les données de la journée courante et celles des 6 jours suivants (J0 à J6) ;<br>
<strong>Remarque:</strong> n&#8217;est disponible que si "format de donnée" = "événement sur la journée".<br>
Dans le cas où vous êtes dans une configuration supérieure à la journée courante, une icône orange apparait à coté du titre; en cliquant dessus, la liste des commandes associées aux autres journées apparait en dessous du tableau.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valeur par défaut</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valeur affichée par défaut, lorsqu&#8217;il n&#8217;y a aucun évènement dans le planning.<br>
<strong>Remarque :</strong> Si rien n&#8217;est indiqué, la valeur "Aucun" est retournée.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicateurs début/fin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de définir si les indicateurs de début/de fin d'évènement sont utilisés, aussi bien à l&#8217;affichage et aussi pour l&#8217;execution d&#8217;une action/scénario;<br>
- Si coché : les indicateurs "Début" (<span class="yellow-background">;DA;</span>) et "Fin" (<span class="yellow-background">;FA;</span>) d&#8217;activité sont utilisés en complément de l&#8217;incidateur "Actif"<br>
- Si décoché : seul l&#8217;indicateur d'état "Actif" est utilisé (<span class="yellow-background">;A;</span>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autoriser les scénarios/Actions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option permet au plugin de lancer automatiquement les scénarios ou actions, si la description de l'événement respecte correctement le format attendue pour cette action (cf. Annexe 1 : "Aide à la saisie d&#8217;un évènement").</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autoriser les interactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option permet au plugin de lancer une recherche d&#8217;interaction sur la base du titre de l'événement.<br>
<strong>Remarque:</strong> cette option ne s&#8217;active uniquement que sur les événements qui n&#8217;ont pas d&#8217;action/scénario configuré dans leur description.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Historiser les actions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A chaque action/scénario/interaction lancé par le plugin, l&#8217;action produite est tracée (pour ne pas être relancé plus tard).<br>
Cette option permet conserver ces actions traitées au delà de la journée courante.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fréquence synchro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Liste de choix<br>
<em>(30 min, par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L&#8217;utilisateur peut configurer la période de rafraîchissement du fichier cache (minimum 30 min) ; (cf. tableau Annexe 2).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Option graphique ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Afficher calendrier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(coché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paramètre graphique ; permet de définir si le calendrier doit être affiché dans le widget.<br>
<strong>Remarque :</strong> ce paramètre n&#8217;est que graphique, il n&#8217;impacte pas les données (celles-ci continuent d'être traitées, même si l&#8217;option est désactivée).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Afficher heure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(coché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paramètre graphique ; permet de définir si les heures de début et de fin sont affichées dans le widget.<br>
<strong>Remarque :</strong> ce paramètre n&#8217;est que graphique, il n&#8217;impacte pas les données (l&#8217;heure continue d'être présente dans la donnée, même si l&#8217;option est désactivée).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Afficher heure event de 24h</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(coché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paramètre graphique ; permet de définir si les heures de début et de fin sont affichées pour les évènements durant toute la journée (24 h) dans le widget.<br>
Le paramètre n&#8217;est pas affiché si l&#8217;option "Afficher heure" est décochée.<br>
<strong>Remarque :</strong> ce paramètre n&#8217;est que graphique, il n&#8217;impacte pas les données (celles-ci continuent d'être traitées, même si l&#8217;option est désactivée).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Afficher l&#8217;emplacement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(coché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paramètre graphique ; permet d&#8217;affiché l&#8217;information de lieu disponible au niveau de l'événement.<br>
<strong>Remarque:</strong> Cette information n&#8217;est disponible qu'à l&#8217;affichage pour l&#8217;instant; vous pouvez aussi la récupérer au niveau d&#8217;un scénario via la fonction "getLocation".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Période à afficher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définit le nombre de jours à afficher sur le widget :<br>
- <code>jour courant</code> : affiche les données de la journée courante;<br>
- <code>+ lendemain</code> : affiche les données de la journée courante et celles du lendemain;<br>
- <code>+ 2jours</code> : affiche les données de la journée courante et celles des 2 jours suivants;<br>
- <code>1 semaine</code> : affiche les données de la journée courante et celles des 6 jours suivants;<br>
<strong>Remarque:</strong> le nombre de jours proposé dépend de la valeur sélectionnée au niveau de l&#8217;option "Période à traiter".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ne pas afficher le nombre d'évènement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de masquer le nombre d'évènement affiché à coté du nom du calendrier.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Actions ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paramètre (roue crantée)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de définir les options "Jeedom" de la commande.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tester</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de tester la commande (affiche le contenu de la commande).<br>
<strong>Remarque :</strong> la donnée s&#8217;affiche uniquement après un 1er rafrachissement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supprimer</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de supprimer la commande et les commandes rattachées (si agenda sur plusieurs jours).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Id</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valeur de l&#8217;id de la commande ; cet id est créé après l&#8217;enregistrement de l'équipement.<br>
<strong>Remarque :</strong> Cette valeur est utilisée dans les logs, pour identifier les actions réalisées au niveau du plugin.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Informations de synchro ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date du fichier</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">indique la date du dernier téléchargement et sauvegarde en cache du fichier ics.<br>
<strong>Remarque:</strong> lors d&#8217;une synchronisation, le fichier peut ne pas être sauvegardé en cache, si les 2 fichiers sont identiques.<br>
Un bouton "télécharger", vous permet de récupérer le fichier actuellement en cache pour une lecture local sur votre poste de travail.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date synchro précédente</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">indique la date de la dernière synchronisation entre jeedom et votre agenda ics.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date synchro suivante</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">indique la date de la prochaine synchronisation entre jeedom et votre agenda ics.<br>
<strong>Remarque:</strong> si la valeur est "STOP", cela signifie que votre équipement est désactivé.</p></td>
</tr>
</tbody>
</table>

<div class="sect3">
<h4 id="_exemple_d_un_cran_listant_les_noms_des_agendas_caldav">Exemple d&#8217;un écran listant les noms des agendas CalDav</h4>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_caldav1.png" alt="iCalendar_caldav1"></span>
<br>
<br></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="_pr_sentation_du_widget">Présentation du Widget</h3>
<div class="paragraph">
<p>Le widget se présente sous la forme suivante, si aucun style n&#8217;est appliqué :</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot1.jpg" alt="iCalendar_screenshot1"></span><br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot6.jpg" alt="iCalendar_screenshot6"></span>
<span class="image"><img src="../images/iCalendar_affichagetoutesjournees.png" alt="iCalendar_affichagetoutesjournees"></span></p>
</div>
<div class="paragraph">
<p>Au niveau d&#8217;un Calendrier :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Le nombre d'événements est affiché à coté du titre du Calendrier ;</p>
<div class="ulist">
<ul>
<li>
<p>En passant la souris sur le titre de l&#8217;agenda : affiche le type d&#8217;affichage, ainsi que les dates de collecte et de valeur ;</p>
</li>
</ul>
</div>
</li>
<li>
<p>Les évènements passés sont grisés ;</p>
</li>
<li>
<p>Les évènements en cours sont repérés par une icône "Actif" (mais aussi 1ère minute et dernière minute, si l&#8217;option est active) ;</p>
</li>
<li>
<p>Les évènements à venir sont représentés sans indicateur ;</p>
</li>
<li>
<p>Les évènements identifiés avec des actions de type (Scénarios ou Actions) sont représentés par : (seulement si l&#8217;option "autoriser les scénarios/actions" est activée) :</p>
<div class="ulist">
<ul>
<li>
<p>Une icône "roues crantées" indique que l'événement déclenche des scénarios ou actions ;</p>
<div class="ulist">
<ul>
<li>
<p>en cliquant dessus, la liste des scénarios ou actions configurés en début ou fin d'événement est affichée ;<br>
En cliquant une seconde fois, ou sur une autre roue la fenêtre d&#8217;information actuelle se masque ;</p>
</li>
<li>
<p>en cliquant sur le nom du scénario ou de l&#8217;action, la page de configuration s&#8217;ouvre ;</p>
</li>
<li>
<p>une icône verte apparait sur à coté de l&#8217;action/scénario pour indiqué qu&#8217;il a bien été exécuté ;<br>
En passant la sourie sur l&#8217;icône, il est possible de voir la date de traitement.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Une icône "bulle de BD" indique que l'événement peut déclencher une intéraction ;</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>La 2nde image montre comment il est possible de personnaliser le widget en utilisant les class (cf. Annexe 6).</p>
</div>
<div class="sect3">
<h4 id="_autres_fonctionnalit_s">Autres fonctionnalités :</h4>
<div class="ulist">
<ul>
<li>
<p>Le widget peut être redimensionné en largeur et hauteur ; du moment que les tailles souhaitées soient supérieures à l&#8217;espace minimum prévus pour l&#8217;affiage des données.
En cas de dimensionnement inférieur, un message d&#8217;erreur est affiché.</p>
</li>
<li>
<p>Vous pouvez également ré-ordonner les agendas directement via le widget (maintenez la souris enfoncée sur la zone de titre de l&#8217;agenda, et déplacer vers le haut ou le bas).</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="_pr_sentation_du_panel_avec_liste_des_actions_historis_es_et_visualisation_de_l_agenda">Présentation du panel : avec liste des actions historisées et visualisation de l&#8217;agenda</h3>
<div class="paragraph">
<p>Vous pouvez atteindre ce menu en sélectionnant le menu "Accueil", puis "iCalendar".<br></p>
</div>
<div class="paragraph">
<p><strong>Visualisation de l&#8217;agenda :</strong><br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot8.jpg" alt="iCalendar_screenshot8"></span></p>
</div>
<div class="paragraph">
<p>Après avoir sélectionné un agenda, vous pouvez cliquer sur le type d&#8217;affichage souhaité "Calendrier" (bouton en haut à gauche).<br>
Vous pouvez alors parcourir votre agenda comme si vous étiez sur la version "distante" (Google, etc&#8230;).<br>
La période d&#8217;affichage est toutefois restrainte ; elle respecte la plage suivante : les 3 mois précédents la date du jour et les 6 mois suivants.<br></p>
</div>
<div class="paragraph">
<p><strong>Remarque:</strong> Cette période n&#8217;est pas paramétrage pour l&#8217;instant; elle est juste rappelée en haut à droite de l'écran.<br>
Dans le cas de petite config, le temps d&#8217;affichage de cet écran peut être long la 1ère fois de la journée, un cache est ensuite utilisée tout au long de la journée.<br>
<br>
En cliquant sur un événement, une fenêtre apparait, permettant d&#8217;avoir des détails complémentaires.<br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot10.jpg" alt="iCalendar_screenshot10"></span>
<br>
<br>
<strong>Actions historisées :</strong><br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot9.jpg" alt="iCalendar_screenshot9"></span></p>
</div>
<div class="paragraph">
<p>Si vous avez activer "Historiser les actions", vous pourrez retrouver dans cet écran les actions/scénarios/interactions où une tentative d&#8217;exécution a été traitée.<br>
En haut à droite, vous pouvez définir la période de visualisation ; par défaut, les derniers jours.<br>
<br>
La liste présente par jour, le nom du scénario ou de l&#8217;action traitée, avec son heure de traitement.<br>
La dernière colonne permet d&#8217;avoir des informations sur l'événement associé / ayant demandé le lancement de cette action/scénario.<br>
Dans le cas d&#8217;une intéraction, l&#8217;information affichée correspond à la "réponse" retournée par l&#8217;intéraction (mais en aucun cas son nom) ; si aucune réponse n&#8217;a été faite, il est indiqué "Non reconnu".<br>
<br>
En dessous de la date, vous pouvez supprimer les données historisées pour cette journée.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_utilisation_des_donn_es">Utilisation des données</h3>
<div class="ulist">
<ul>
<li>
<p>Par configuration d&#8217;un événement avec valeur des "scénario/action" dans la description de l'événement :<br>
Les scénarios et les actions/commandes (si leur id est valide et actif) sont lancés automatiquement à l&#8217;heure souhaitée.</p>
</li>
<li>
<p>Par déclencheur dans un scénario :<br>
Dans une condition IF, il faut rechercher la présence du nom de l'évènement ; on peut aussi le faire précéder de l'état.
La recherche se fait en utilisant l&#8217;argument de comparaison "contient" ("matches", cf. documentation scénario).</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all" style="width:90%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom uniquement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recherche de la présence d&#8217;un nom : cmd_iCal matches "/mon event/"<br>
<em>exemple : #[MA_CMD]# matches "/déjeuner/"</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etat actif</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recherche d&#8217;un état actif pour un événement précis : cmd_iCal matches "/A;mon event/"<br>
<em>exemple : #[MA_CMD]# matches "/A;Volet RDC/"</em><br>
<strong>Remarque :</strong> ce test contient aussi les états des 1ère et dernière minutes ; pour ne pas en tenir compte, il faut écrire :<br>
<em>#[MA_CMD]# matches "/;A;Volet RDC/"</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etat actif : 1ère minute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recherche de la 1ère minute d&#8217;un état actif pour un événement précis : cmd_iCal matches "/;DA;mon event/"<br>
<em>exemple : #[MA_CMD]# matches "/;DA;Volet RDC/"</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etat actif : dernière minute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recherche de la dernière minute d&#8217;un état actif pour un événement précis : cmd_iCal matches "/;FA;mon event/"<br>
<em>exemple : #[MA_CMD]# matches "/;FA;Volet RDC/"</em><br>
<strong>Remarque :</strong> La borne de fin sera configurée 1 minute avant l&#8217;heure configurée (exemple pour 18h, l&#8217;indicateur sera affiché à 17h59); sauf pour 23h59.</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>En fonction de la version de Jeedom, l&#8217;utilisation des doubles côtes <code>"</code>, autours du nom de la commande peut être nécessaire ; à partir de la V2, le test doit être fait sans ces doubles côtes. <br></p>
</div>
<div class="paragraph">
<p>L&#8217;utilisation de l'état n&#8217;a un intérêt que si le paramètre "Format donnée" utilisé est : "événement heure à venir" ou "événement sur la journée".</p>
</div>
<div class="paragraph">
<p><strong>REMARQUE:</strong> Lorsque l&#8217;agenda ne traite qu&#8217;un seul événément, l&#8217;utilisation du format "événement courant" avec "titre uniquement" n&#8217;est pas la seule solution.
Vous pouvez très bien utiliser également les formats "heure à venir" et "journée", en précisant le contenu exacte de l'événement.
Soit un <code>\#[MA_CMD]#="Congé"</code> en "événement courant", équivaut à <code>\#[MA_CMD]# matches "/;A;Congé;/"</code> dans un autre format (respecter bien l&#8217;utilidation des <code>;</code>).</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_cron_et_rafra_chissement_de_donn_es">Cron et Rafraîchissement de données</h3>
<div class="paragraph">
<p><strong>Récupération des données :</strong><br>
Les données récupérées correspondent à une journée complète, mais sont récupérées en fonction du paramétrage défini (minimum 30 minutes); elles sont enregistrées en cache utilisé par le plugin.<br>
Si vous faites des modifications dans votre agenda ics, ils ne seront visibles qu&#8217;au moment d&#8217;une période de rafraîchissement.<br></p>
</div>
<div class="paragraph">
<p><strong>Cron :</strong><br>
Le système vérifie toutes les minutes en cache s&#8217;il y a des évènements, et précise l'état de l'évènement (en fonction du format choisi).<br>
Il est donc possible de configurer/programmer des évènements à la minute près.<br></p>
</div>
<div class="paragraph">
<p>En l&#8217;absence d&#8217;accès internet, le cache disponible est sur l&#8217;ensemble de l&#8217;agenda configuré (et non uniquement sur la journée courante).<br></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="__sant_des_changes_r_seaux">"Santé" des échanges réseaux</h3>
<div class="paragraph">
<p>Afin de vous permettre d&#8217;avoir une vision sur la validité des synchronisation, une information est remontée au niveau de la page "Santé".<br>
Dans la session "iCalendar", vous pouvez voir pour chacun de vos agendas, l'état des 15 dernières synchro réalisées:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Si la synchro s&#8217;est correctement déroulée, un <code>o</code> est affiché.</p>
</li>
<li>
<p>Si la synchro a rencontré un problème réseau (non accès à l&#8217;url), une <code>X</code> est affichée.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot7.jpg" alt="iCalendar_screenshot7"></span></p>
</div>
<div class="paragraph">
<p>L&#8217;ordre de lecture de ces états est le suivant : le 1er de la liste correspond au test de synchro le dernier en date ; la dernière information de la liste correspond à l'état le plus ancien connu.<br>
Ces états sont renseignées à chaque synchro (soit à chaque période définie dans votre configuration de l'équipement, ou au moment de l&#8217;enregistrement de l'équipement si vous avez forcée la synchro).</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_annexes">Annexes</h3>
<div class="sect3">
<h4 id="__em_annexe_1_aide_la_saisie_d_un_v_nement_action_sc_nario_ou_commande_action_dans_votre_agenda_em"><em>Annexe 1 : Aide à la saisie d&#8217;un évènement "Action" (scénario ou commande action) dans votre agenda</em></h4>
<div class="paragraph">
<p>Ce paragraphe vous explique comment configurer un évènement agenda pour permettre de lancer automatiquement les scénarios ou des commandes actions.<br>
Pour que le plugin reconnaisse que l'évènement est de type "Action", il doit se présenter sous une forme particulière au niveau du champs "description" de l'événement.<br></p>
</div>
<div class="paragraph">
<p><strong>-- Cas du format "Scénario"</strong> :<br>
Le format attendu doit être du type : <code>période (DA ou FA)|sc=id du sénario|nom de la variable=valeur de la variable</code><br>
<em>exemple : <code>DA|sc=3|varVolet=ON</code> </em> , pour action à la 1ère minute (DA), lancement du scénario id="3", et passage de variable au scénario (variable "varVolet", avec la valeur "ON").</p>
</div>
<div class="paragraph">
<p>Il est aussi possible d&#8217;activer ou désactiver un scénario par ce procédé ; ces valeurs sont présentes en fin de liste des choix "nom de la variable".<br>
En saisie manuelle, mettre : "#active" pour activer le scénario ou "#desactive" pour désactiver le scénario.<br>
Par contre, ne pas mettre de valeur de variable pour que cette action soit prise en compte.<br>
<em>exemple : <code>DA|sc=3|#active</code> </em><br>
<strong>Remarque:</strong> ces 2 actions ne permettent pas de lancer le scénario, mais juste agir dessus.<br>
<br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot4.jpg" alt="iCalendar_screenshot4"></span></p>
</div>
<table class="tableblock frame-all grid-all" style="width:90%; ">
<colgroup>
<col style="width:25%;">
<col style="width:75%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Champs</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type d&#8217;action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie le type d&#8217;action à produire (commande action ou scénario), ici "Scénario"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1ère minute : nom du scénario</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le scénario à exécuter depuis l'évènement à la 1ère minute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1ère minute : nom de la variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le nom de la variable à utiliser pour un traitement au niveau du scénario ; cette variable sera utilisée pour faire transiter les informations définies au moment de la 1ère minute.<br>
<em>Valeur non obligatoire, si vous n&#8217;avez pas besoin de passer de paramètre</em> <br>
<strong>Remarque :</strong> la variable doit être créée avant l&#8217;utilisation de l&#8217;aide (pour apparaître dans la liste des variables).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1ère minute : valeur de la variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valeur à passer à la variable lors du démarrage de l'événement (1ère minute), lors de l'état <span class="yellow-background">;DA;</span>.<br>
<em>Valeur non obligatoire. Exemple : ON</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dernière minute : nom du scénario</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le scénario à exécuter depuis l'évènement à la dernière minute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dernière minute : nom de la variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le nom de la variable à utiliser pour un traitement au niveau du scénario ; cette variable sera utilisée pour faire transiter les informations définies au moment de la dernière minute.<br>
<em>Valeur non obligatoire, si vous n&#8217;avez pas besoin de passer de paramètre</em> <br>
<strong>Remarque :</strong> la variable doit être créée avant l&#8217;utilisation de l&#8217;aide (pour apparaître dans la liste des variables).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dernière minute : valeur de la variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valeur à passer à la variable à la fin de l'événement (dernière minute), lors de l'état <span class="yellow-background">;FA;</span>.<br>
<em>Valeur non obligatoire. Exemple : ON</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>valeur générée</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Après avoir cliqué sur le bouton "Générer", cette zone représente la syntaxe générée en fonction des valeurs définies ci-dessus.<br>
Il est possible de lancer plusieurs sénario à la 1ère minute ou dernière minute.<br>
Un bouton RAZ permet de remettre à vide la zone.</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>-- Cas du format "Action"</strong> :<br>
Le format attendu doit être du type : <code>période (DA ou FA)|act=commande(id ou nom)|option de commande=valeur</code><br>
<em>exemple : <code>FA|act=[obj][equipment][cmd]|slider=4</code> </em> , pour action à la dernière minute (FA), lancement d&#8217;une commande action "cmd" de l'équipement "equipement", et passage de la valeur 4 (commande de type "slider").<br>
<br>
Remarque : les options de commande sont dépendant de la commande utilisée et donc ne sont pas obligatoires.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot5.jpg" alt="iCalendar_screenshot5"></span></p>
</div>
<table class="tableblock frame-all grid-all" style="width:90%; ">
<colgroup>
<col style="width:25%;">
<col style="width:75%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Champs</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type d&#8217;action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie le type d&#8217;action à produire (commande action ou scénario), ici "Action"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format de la commande</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie si la valeur de l&#8217;ID est positionné ou le format de commande Jeedom (soit [obj][equip][cmd]).<br>
<strong>Remarque:</strong> avec l&#8217;id, vous n&#8217;est pas dépendant du nom de la commande ou de l'équipement. Toute modification sur ce dernier n&#8217;aura pas d&#8217;impact sur le traitement/l&#8217;action de la commande.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1ère minute : commande action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le nom de la commande à utiliser à la 1ère minute.<br>
Si cette commande utilise des options (slider, titre/message), vous pourrez alors les compléter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dernière minute : commande action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le nom de la commande à utiliser à la dernière minute.<br>
Si cette commande utilise des options (slider, titre/message), vous pourrez alors les compléter.</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>-- Opération à réaliser :</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Une fois, les informations renseignées, cliquez sur le bouton "Générer".</p>
</li>
<li>
<p>La zone grise est complétée, copiez là (ctrl + C).</p>
</li>
<li>
<p>Collez (ctlr + V) l&#8217;information dans le champs DESCRIPTION d&#8217;un évènement de votre agenda.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>REMARQUE:</strong> les anciens formats de trames au niveau du titre sont encore supportés par le plugin, mais seront bientôt supprimé du plugin au profit de cette nouvelle gestion.<br>
Pensez à modifier vos configurations pour un traitement avancé du plugin et sa maintenance future.</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="__em_annexe_2_fr_quence_de_rafra_chissement_em"><em>Annexe 2 : Fréquence de rafraîchissement</em></h4>
<table class="tableblock frame-all grid-all" style="width:50%; ">
<colgroup>
<col style="width:33%;">
<col style="width:66%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Valeur</th>
<th class="tableblock halign-left valign-top">Heure du rafraîchissement</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30 min.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aux minutes : 00, 30, de chaque heure.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 h.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A la minute : 00, de chaque heure.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 h.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A : minuit (00h), 3h, 6h, 9h, 12h, 15h, 18h, 21h.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 h.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A : minuit (00h), 6h, 12h, 18h.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 h.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A : minuit (00h) et midi (12h)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 h.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique à minuit (00h)</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Remarque :</strong> <em>en dehors de ces horaires, aucun rafraîchissement n&#8217;est réalisé.</em></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="__em_annexe_3_url_priv_e_des_agendas_google_em"><em>Annexe 3 : URL privée des agendas Google</em></h4>
<div class="paragraph">
<p>Une fois connecté à l&#8217;agenda Google, vous pouvez récupérer l'<strong>URL PRIVEE</strong> de votre agenda comme ceci.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cliquez sur le nom de l&#8217;agenda que vous souhaitez récupérer sous Jeedom et choisir le menu "Paramètres de l&#8217;agenda" ;<br></p>
</li>
<li>
<p>Allez à la session "Adresse URL Privée" et cliquer sur "ICS" ;<br></p>
</li>
<li>
<p>La popup s&#8217;ouvre et présente l&#8217;URL à copier dans Jeedom ;</p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="__em_annexe_4_format_des_donn_es_widget_et_structure_des_commandes_em"><em>Annexe 4 : Format des données (Widget et structure des commandes)</em></h4>
<div class="paragraph">
<p>Lorsque la synchronisation est réalisée, le plugin va positionner au niveau de la commande agenda, les informations des événements de votre calendrier pour la journée courante.<br></p>
</div>
<div class="paragraph">
<p>Il existe 2 formats :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>version "simple" (diponible pour "événement courant", avec titre uniquement à OUI) :</p>
<div class="ulist">
<ul>
<li>
<p>chaque évènement est séparé par des "||" ;</p>
</li>
<li>
<p>la donnée ne contient que les titres des événements, aucune autre information "technique" n&#8217;est présente dans la commande ;</p>
</li>
</ul>
</div>
</li>
<li>
<p>version standard/complète (pour tout autre paramétrage) :</p>
<div class="ulist">
<ul>
<li>
<p>chaque évènement est séparé par des "||" ;</p>
</li>
<li>
<p>les données au sein d&#8217;un évènement sont séparés par des ";" (point-virgule) ;</p>
</li>
<li>
<p>les données disponibles sont :</p>
<div class="ulist">
<ul>
<li>
<p><code>heure_début;heure_fin;statut;titre de l'événement;uid;doAct/doInter;date_update;location</code></p>
</li>
<li>
<p>où heure_début, et heure_fin sont des bornes de l'événement pour la journée courante ;</p>
</li>
<li>
<p>statut : définie l'état de l'événement à l&#8217;instant T; pouvant prendre les valeurs : vide (à venir), DA (1ère minute), A (actif) ,FA (dernière minute), P (passé) ;</p>
</li>
<li>
<p>uid : est l&#8217;idée technique de l'événement (utilisée pour la liaison avec des données techniques en caches) ;</p>
</li>
<li>
<p>doAct/doInter : définie si cet événement présente des commandes actions ou scénarios à éxecuter en début ou fin d'événement ; ou une intéraction en début d'événement.</p>
</li>
<li>
<p>date_update : correspond au timestamps update de l'événement ;</p>
</li>
<li>
<p>location : correspond au lieu de l'événement s&#8217;il est définie dans votre agenda.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Remarque :</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>le plugin sait gérer différents formats d'évènement :</p>
<div class="ulist">
<ul>
<li>
<p>heure au sein d&#8217;une journée (ex : 23/02 de 10h à 11h) ;</p>
</li>
<li>
<p>journée complète (ex : 23/02, généralement décrit 23/02 0h à 24/02 0h) : sera transformé en 23/02 0h-23h59 au niveau de la commande et du widget</p>
</li>
<li>
<p>plusieurs journées (ex : 23-25/02) : sera transformé en fonction du jour : 23/02 0h-23h59 , 24/02 0h-23h59, 25/02 0h-23h59</p>
</li>
<li>
<p>plusieurs journées avec horaire (ex : 23/02 à 10h et 25/02 à 14h) : sera transformé en fonction du jour : 23/02 10h-23h59, 24/02 0h-23h59, 25/02 0h-14h</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="__em_annexe_5_donn_es_des_venements_au_niveau_des_sc_narios_via_fonctions_em"><em>Annexe 5 : Données des évenements au niveau des scénarios via "fonctions"</em></h4>
<div class="paragraph">
<p>Pour rappel, une commande agenda retourne des données brutes restectant les formats de données décrits au niveau de l&#8217;annexe précédente.<br>
Toutefois une commande complémentaire est disponible au niveau de chaque "agenda", nommé <code>_nom de la commande agenda_ (ExecuteFunction-_idCommande_)</code><br>
Cette commande disponible au niveau des scénarios est de type "message" et est composé d&#8217;un nom de fonction (titre) et d&#8217;argements (message).<br>
Après avoir sélectionné cette commande dans une action de scénario, tapez la lettre "g" dans la zone "fonction", les fonctions disponibles apparaitront (avec en mémo, un rappel de l&#8217;utilisation au niveau des arguments).<br>
<br>
<strong>L'événement recherché ne peut être que sur la journée courante et doit être en cours ou à venir.</strong> Les événements passés ne peuvent plus être analysés.<br></p>
</div>
<div class="paragraph">
<p><strong>Le titre passé en argument doit être exacte</strong> également (exemple : absence) ; la fonction "contient" n&#8217;est pas encore mise en place.<br>
Si plusieurs titres correspondent, le 1er est retourné.<br></p>
</div>
<table class="tableblock frame-all grid-all" style="width:95%; ">
<colgroup>
<col style="width:16%;">
<col style="width:33%;">
<col style="width:50%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fonction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">arguments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getTimeStart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">donne l&#8217;heure de début de l'événement choisit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- en 1ère ligne : mettre le titre de l'événenement à rechercher, le texte doit être exacte ;<br>
soit <span class="yellow-background">title=xxx</span>, exemple : title=Volet RDC<br>
- en 2nde ligne, il est possible de préciser un format de retour pour la date ; comme dans tout le reste au niveau de jeedom, les possibilités de format sont équivalent à ceux de php.<br>
soit <span class="yellow-background">date=xxx</span>, exemple : date=H:i:s ou date=d/m H:i<br>
<strong>Remarque:</strong> Si cette 2nde ligne n&#8217;est pas renseignée, la valeur retournée est au format timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getTimeEnd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">donne l&#8217;heure de fin de l'événement choisit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- en 1ère ligne : mettre le titre de l'événenement à rechercher, le texte doit être exacte ;<br>
soit <span class="yellow-background">title=xxx</span>, exemple : title=Volet RDC<br>
- en 2nde ligne, il est possible de préciser un format de retour pour la date ; comme dans tout le reste au niveau de jeedom, les possibilités de format sont équivalent à ceux de php.<br>
soit <span class="yellow-background">date=xxx</span>, exemple : date=H:i:s ou date=d/m H:i<br>
<strong>Remarque:</strong> Si cette 2nde ligne n&#8217;est pas renseignée, la valeur retournée est au format timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getUid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">donne l&#8217;id technique de l'événement choisit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- en 1ère ligne : mettre le titre de l'événenement à rechercher, le texte doit être exacte ;<br>
soit <span class="yellow-background">title=xxx</span>, exemple : title=Volet RDC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getTitle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">donne le titre de l'événement choisit en fonction d&#8217;un id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- en 1ère ligne : mettre l&#8217;id (uid) de l'événenement à rechercher, le texte doit être exacte ;<br>
soit <span class="yellow-background">uid=xxx</span>, exemple : uid=<a href="mailto:23424houi877sdf@google.com">23424houi877sdf@google.com</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getLocation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">donne le lieu de l'événement choisit en fonction d&#8217;un id ou d&#8217;un titre</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- en 1ère ligne : mettre le titre de l'événenement à rechercher, le texte doit être exacte ;<br>
soit <span class="yellow-background">title=xxx</span>, exemple : title=Volet RDC<br>
(un id peut aussi être passé en paramètre; exemple: uid=<a href="mailto:23424houi877sdf@google.com">23424houi877sdf@google.com</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getDaySimple</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">retourne une trame simplifiée de tous les événements de la journée courante (quelque soit le statut de l'événement).<br>
Le contenu est : l&#8217;heure de début, l&#8217;heure de fin et le titre.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aucun (zone laissée vide)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getDayTitleOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">retourne une trame simplifiée avec tous les événéments de la journée courante (quelque soit le statut de l'événement).<br>
Le contenu est : uniquement le titre.<br>
Remarque: cette fonction correspond à la même chose que l&#8217;option "titre uniquement", mais ici valable sur toute la journée.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aucun (zone laissée vide)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getDayActifOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">retourne une trame simplifiée avec uniquement les événéments actif de la journée courante.<br>
Le contenu est : l&#8217;heure de début, l&#8217;heure de fin et le titre.<br>
Remarque: cette fonction correspond à la même chose que l&#8217;option format donnée = "événement courant".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aucun (zone laissée vide)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getDayActifAndTitleOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">retourne une trame simplifiée avec uniquement les événements actif de la journée courante.<br>
Le contenu est : uniquement le titre.<br>
Remarque: cette fonction correspond à la même chose que l&#8217;option format donnée = "événement courant" et "titre uniquement".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aucun (zone laissée vide)</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>Les commandes actions ne retournent pas de valeur, le résultat de la fonction sera donc placée dans une variable de scénario, prenant la forme : <code>nomDeLaFonction_IdCommandeAgenda</code> (exemple: getTimeStart_13456).<br>
Pour éviter toute erreur, cet id est rappelé dans le nom de la commande fonction.<br>
<br>
Par ailleurs, le traitement étant asynchrone, tout au long du traitement de la commande/fonction la variable de retour est positionnée à "-99".<br>
Dès lors que cette variable passe à une autre valeur, cela signifie que la fonction a termné son traitement.<br>
<br>
Si la fonction n&#8217;a rien trouvé ou a rencontré une erreur, la valeur de retour de non traitement est "-1".<br>
<br>
<strong>Remarque pour les fonction "getDay&#8230;":</strong><br>
1/ pour l&#8217;utilisation de ces fonctions, il est consillé d'être dans un format de donnée différent de "événement courant".
En effet, ce format étant déjà très limité, ces fonctions spécifiques de formatage de la trame pourraient ne pas s&#8217;appliquer.<br>
Si ce cas s&#8217;applique, le retour prendra la valeur "-1" et un message d&#8217;erreur sera précisée dans la log.<br>
2/ le séparateur entre les événements est un double pipe "||".<br>
Si vous souhaitez utiliser un autre séparateur pour de l&#8217;affichage dans  un mail par exemple, vous pouvez faire un changement de caractère comme suite (ici retour à la ligne) :<br>
<code>str_replace("||", "\n", variable(getDaySimple_123))</code><br>
<br></p>
</div>
<div class="sect4">
<h5 id="_processus_d_utilisation_dans_un_sc_nario">Processus d&#8217;utilisation dans un scénario :</h5>
<div class="ulist">
<ul>
<li>
<p>1/ Sélectionner votre commande agenda permettant d&#8217;excuter des fonctions au niveau d&#8217;une zone "action".</p>
</li>
<li>
<p>2/ Dans la zone "fonction", taper "get" et sélectionner dans la liste la fonction souhaitée (cf. ci-dessus).</p>
</li>
<li>
<p>3/ Ajouter une commande action avec la fonction "wait" ;<br>
<strong>Remarque:</strong> les temps de réponses des fonctions sont relativement rapide, mais il est préférable d&#8217;avoir une tempo pour s&#8217;assurer que la valeur retournée est bien celle attendue, pour la suite du scénario.<br>
La saisie doit être du type : <code>variable(getTimeEnd_12345) != -99</code> , (avec un timeout de 5sec par exemple).<br></p>
</li>
<li>
<p>4/ une fois cette condition passée, vous pouvez utiliser votre variable dans la suite du scénario.<br>
<strong>Remarque:</strong> Il est conseillé de faire d&#8217;abord un test sur la pertinence de votre variable : autre que "-1".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_scenarioFonction.png" alt="iCalendar_scenarioFonction"></span></p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="__em_annexe_6_les_classes_css_disponibles_em"><em>Annexe 6 : Les classes CSS disponibles</em></h4>
<div class="paragraph">
<p>Vous pouvez utiliser 3 paramètres au niveau des options de la tuille de l&#8217;agenda pour gérer les couleurs :</p>
</div>
<table class="tableblock frame-all grid-all" style="width:70%; ">
<colgroup>
<col style="width:33%;">
<col style="width:66%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bgTitleColor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Couleur de fond de la zone de titre (nom de l&#8217;agenda, et zone actions)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bgItemColor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Couleur de fond de la zone de liste (événements et actions)</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>Mais pour les utiliseurs qui veulent aller plus loin dans la configuration, voici les classes CSS disponibles pour personnaliser le widget du plugin :</p>
</div>
<table class="tableblock frame-all grid-all" style="width:70%; ">
<colgroup>
<col style="width:33%;">
<col style="width:66%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de titre de la tuile</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de date de la tuile</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_calTitle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de titre de l&#8217;agenda</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_items</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone d&#8217;information principale</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_itemActif</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">évènement "Actif" (en cours)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_itemInactif</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">évènement "Inactif" (passé ou à venir)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_zoneListAct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sur fenêtre affichant la liste des actions / scénarios</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_titleListAct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de titre de la liste des actions / scénarios</p></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_faq">FAQ</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="__em_peut_on_avoir_les_futurs_v_nements_em"><em>Peut-on avoir les futurs évènements ?</em></h4>
<div class="paragraph">
<p>Avec les valeurs "événement heure à venir" et "événement sur la journée" du paramètre "format donnée" : oui d&#8217;un point de vue affichage sur le widget.<br>
Par contre, le traitement de futurs évènements n&#8217;est pas possible (ils ne sont présents qu&#8217;en terme d&#8217;affichage), sauf si vous parcer les informations.</p>
</div>
</div>
<div class="sect3">
<h4 id="__em_j_ai_modifi_mon_agenda_et_l_v_nement_n_appara_t_pas_em"><em>J&#8217;ai modifié mon agenda et l'évènement n&#8217;apparaît pas&#8230;</em></h4>
<div class="paragraph">
<p>Le rafraîchissement du cache est réalisé en fonction du paramétrage que vous avez configuré (minimum 30 min).<br>
Toutes modifications sur l&#8217;agenda n&#8217;apparaîtront sur le plugin iCalendar qu&#8217;aux heures fixes liées à la configuration définies (cf. doc).<br>
Mais il est possible de forcer cette synchronisation au moment de l&#8217;enregistrement de l&#8217;agenda (équipement).</p>
</div>
</div>
<div class="sect3">
<h4 id="__em_quelle_p_riode_de_l_agenda_est_affich_e_dans_le_widget_em"><em>Quelle période de l&#8217;agenda est affichée dans le widget ?</em></h4>
<div class="paragraph">
<p>La récupération des données et l&#8217;affichage dans le widget ne traitent que des données de la journée courante.<br>
Si l'évènement fait plus d&#8217;une journée, les heures de début et de fin sont présentées uniquement pour la journée en cours.<br>
<em>(exemple si l'évènement est configurée sur jour1 10h - jour2 10h; le jour 1, il sera affiché: 10h-23h59 et jour2: 0h-10h)</em><br>
Même pour une configuration en "heure suivante", les informations seront affichées uniquement jusqu'à 23h59.</p>
</div>
</div>
<div class="sect3">
<h4 id="__em_les_bornes_sont_elles_incluses_em"><em>Les bornes sont-elles incluses ?</em></h4>
<div class="paragraph">
<p>L&#8217;heure de début est incluse : la 1ère minute est "active" et remonte l&#8217;information <span class="yellow-background">;DA;</span> (exemple: 10h-18h: 10h00 contient <span class="yellow-background">;DA;</span>)<br>
L&#8217;heure de fin n&#8217;est pas incluse dans la période d&#8217;activité, c&#8217;est la dernière minute précédente qui présente l&#8217;information <span class="yellow-background">;FA;</span> ; sauf pour 23h59.<br>
<em>(exemple 1 : 10h-18h: 17h59 contient <span class="yellow-background">;FA;</span>, à 18h00 l'évènement est terminé et non actif, <span class="yellow-background">;A;</span> n&#8217;est plus présent)</em>.<br>
<em>(exemple 2: 19h-0h: l&#8217;heure de fin est convertie en 23h59 et contient <span class="yellow-background">;FA;</span>, à 0h l'évènement est terminé et non actif, <span class="yellow-background">;A;</span> n&#8217;est plus présent).</em></p>
</div>
</div>
<div class="sect3">
<h4 id="__em_sur_la_version_mobile_je_ne_vois_pas_les_v_nements_pass_s_en_affichage_journ_e_em"><em>Sur la version mobile, je ne vois pas les évènements passés en affichage journée&#8230;</em></h4>
<div class="paragraph">
<p>Sur la version mobile, seuls les évènements en cours et à venir sont affichés. Même en mode journée, les évènements passés ne sont plus affichés (contrairement à l&#8217;affichage dashboard).</p>
</div>
</div>
<div class="sect3">
<h4 id="__em_j_ai_des_messages_d_erreur_du_type_la_commande_action_objet_equipement_cmd_est_inconnue_pour_l_v_nement_suivant_mon_titre_v_nement_revoir_la_configuration_de_votre_v_nement_qui_s_affiche_au_niveau_de_la_messagerie_jeedom_em"><em>J&#8217;ai des messages d&#8217;erreur du type "La commande action : [objet][equipement][cmd], est inconnue pour l événement suivant : mon titre événement. Revoir la configuration de votre événement" qui s&#8217;affiche au niveau de la messagerie Jeedom ?</em></h4>
<div class="paragraph">
<p>L&#8217;id ou le nom de la commande, ou l&#8217;id du scénario que vous déclaré en tant qu&#8217;action dans votre événement n&#8217;existe pas (ou plus) dans Jeedom.
Vous devez vérifier si vous n&#8217;avez pas modifié cette commande/scénario et faire la modification dans votre événement au niveau de votre agenda.</p>
</div>
</div>
<div class="sect3">
<h4 id="__em_existe_il_un_agenda_des_jours_f_ri_s_em"><em>Existe-il un agenda des jours fériés ?</em></h4>
<div class="paragraph">
<p>Oui il existe un agenda google qui liste les jours fériés, l&#8217;URL est la suivante (ici pour la France) :<br>
<a href="https://calendar.google.com/calendar/ical/fr.french%23holiday%40group.v.calendar.google.com/public/basic.ics">https://calendar.google.com/calendar/ical/fr.french%23holiday%40group.v.calendar.google.com/public/basic.ics</a>
<strong>Remarque :</strong> par contre, ce calendrier présente aussi des évènements (comme la fête des mères) qui ne sont pas des jours fériés &#8230; :(</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshoting">Troubleshoting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>====<em>Mes scénarios réagissent à des évènements passées ou futurs (mode prochaine heure ou journée)</em>
Dans l&#8217;analyse de la trame, il faut vérifier que vous êtes sur un évènement actif; en vérifiant que <span class="yellow-background">;A;</span> est présent. <em>(exemple : "&#8230;" matches "/;A;mon event/")</em>.
Voir la documentation pour plus d&#8217;explications.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_roadmap">Roadmap</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>modification d'événement via jeedom (sans synchro avec le serveur distant dans le mode téléchargement ics) ;<br></p>
</li>
<li>
<p>gestion des événements + Todo (modif, création, supression) pour le mode CalDav ;<br></p>
</li>
<li>
<p>définir un offset à l'événement sur heure de début ou de fin ;<br></p>
</li>
<li>
<p>mise en place de la synchro via un daemon ;<br></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_version_documentaire">Version documentaire</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Mise à jour le : 27 février 2016</em><br></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-06-19 22:28:26 CEST
</div>
</div>
</body>
</html>