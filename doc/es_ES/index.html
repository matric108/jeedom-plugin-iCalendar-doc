<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3.dev">
<title>iCalendar</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>iCalendar</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table des matières</div>
<ul class="sectlevel1">
<li><a href="#_description">1. Description</a></li>
<li><a href="#_configuration">2. Configuration</a>
<ul class="sectlevel2">
<li><a href="#_installation_et_configuration_du_plugin">2.1. Installation et configuration du plugin</a></li>
<li><a href="#_description_des_paramètres_de_l_équipement">2.2. Description des paramètres de l&#8217;équipement</a></li>
<li><a href="#_description_des_paramètres_de_la_commande">2.3. Description des paramètres de la commande</a>
<ul class="sectlevel4">
<li><a href="#_exemple_d_un_écran_listant_les_noms_des_agendas_caldav">Exemple d&#8217;un écran listant les noms des agendas CalDav</a></li>
</ul>
</li>
<li><a href="#_présentation_du_widget">2.4. Présentation du Widget</a>
<ul class="sectlevel3">
<li><a href="#_autres_fonctionnalités">2.4.1. Autres fonctionnalités :</a></li>
</ul>
</li>
<li><a href="#_présentation_du_panel_avec_liste_des_actions_historisées_et_visualisation_de_l_agenda">2.5. Présentation du panel : avec liste des actions historisées et visualisation de l&#8217;agenda</a></li>
<li><a href="#_utilisation_des_données">2.6. Utilisation des données</a></li>
<li><a href="#_cron_et_rafraîchissement_de_données">2.7. Cron et Rafraîchissement de données</a></li>
<li><a href="#__santé_des_échanges_réseaux">2.8. "Santé" des échanges réseaux</a></li>
<li><a href="#_annexes">2.9. Annexes</a>
<ul class="sectlevel3">
<li><a href="#__em_annexe_1_aide_à_la_saisie_d_un_évènement_action_scénario_ou_commande_action_dans_votre_agenda_em">2.9.1. <em>Annexe 1 : Aide à la saisie d&#8217;un évènement "Action" (scénario ou commande action) dans votre agenda</em></a></li>
<li><a href="#__em_annexe_2_fréquence_de_rafraîchissement_em">2.9.2. <em>Annexe 2 : Fréquence de rafraîchissement</em></a></li>
<li><a href="#__em_annexe_3_url_privée_des_agendas_google_em">2.9.3. <em>Annexe 3 : URL privée des agendas Google</em></a></li>
<li><a href="#__em_annexe_4_format_des_données_widget_et_structure_des_commandes_em">2.9.4. <em>Annexe 4 : Format des données (Widget et structure des commandes)</em></a></li>
<li><a href="#__em_annexe_5_données_des_évenements_au_niveau_des_scénarios_via_fonctions_em">2.9.5. <em>Annexe 5 : Données des évenements au niveau des scénarios via "fonctions"</em></a></li>
<li><a href="#__em_annexe_6_les_classes_css_disponibles_em">2.9.6. <em>Annexe 6 : Les classes CSS disponibles</em></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_faq">3. FAQ</a></li>
<li><a href="#_troubleshoting">4. Troubleshoting</a></li>
<li><a href="#_roadmap">5. Roadmap</a></li>
<li><a href="#_version_documentaire">6. Version documentaire</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_description">1. Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ce plugin iCalendar vous permet de récupérer les événements d&#8217;un agenda gérant le format de fichier iCalendar, dans un fichier .ics :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>soit en téléchargement d&#8217;un fichier ics (google, zimbra, outlook, &#8230;&#8203;)</p>
</li>
<li>
<p>soit en Caldav (lecture seule pour l&#8217;instant avec cache locale sur la période de synchro)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>L’utilisateur dispose de 3 modes de fonctionnement :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>tester la présence de l’évènement et l’état de celui-ci via une condition dans un scénario (utilisation de l’opérateur ~ pour savoir si une chaîne de caractères en contient une autre).</p>
</li>
<li>
<p>définir au niveau des l&#8217;événement des "scénario" ou "action" qui pourront être automatiquement lancé par jeedom, soit en début ou en fin d&#8217;événement.</p>
</li>
<li>
<p>reconnaissance d&#8217;une "interaction" sur le contenu du titre ; après à vous de définir les actions produites par l&#8217;intéraction.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">2. Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ce plugin permet de retourner les évènements de votre agenda iCalendar, il suffit pour cela de créer un équipement et de lui ajouter autant de "commandes" que vous avez d&#8217;agenda à traiter. Même s’il y beaucoups de paramètres, la configuration du plugin est simple : les paramètres par défaut peuvent être conservés, ce qui facilite la création.<br>
Vous pouvez l’utiliser pour l&#8217;affichage d&#8217;agenda tout simplement ou pour récupérer des agendas vous permettant de réaliser des actions dans votre installation Jeedom.</p>
</div>
<hr>
<div class="sect2">
<h3 id="_installation_et_configuration_du_plugin">2.1. Installation et configuration du plugin</h3>
<div class="paragraph">
<p>Après téléchargement du plugin, vous devez l&#8217;activer pour profiter de ces fonctionnalité.<br>
Des paramètres de configuration vous sont proposés, mais les valeurs par défaut peuvent être conservées.<br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_install.PNG" alt="iCalendar_install"></span></p>
</div>
<table class="tableblock frame-topbot grid-all spread">
<colgroup>
<col style="width: 16%;">
<col style="width: 16%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Paramètre</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TimeOut de syncrho</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option vous permet de définir le temps que vous souhaité laissé au plugin pour récupérer les données issus du calendrier distant.<br>
Théoriquement cette action est assez rapide, mais ce paramètre est disponible en cas de besoin.<br>
Les valeurs possibles sont : 5 sec / 15 sec / 30 sec.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pannel: vue par défaut</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lorsque vous allez sur l&#8217;écran "panel", cette option précise la vue qui sera affiché par défaut pour l&#8217;utilisateur.<br>
Les valeurs possibles sont :<br>
- Calendrier: jours<br>
- Calendrier: 4 jours<br>
- Calendrier: semaine<br>
- Calendrier: mois<br>
- Actions: planning</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_description_des_paramètres_de_l_équipement">2.2. Description des paramètres de l&#8217;équipement</h3>
<div class="paragraph">
<p>Un bouton "dupliquer", permet de dupliquer l&#8217;équipement et les commandes associées.<br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot2.jpg" alt="iCalendar_screenshot2"></span>
<span class="image"><img src="../images/iCalendar_config01.PNG" alt="iCalendar_config01"></span></p>
</div>
<table class="tableblock frame-topbot grid-all spread">
<colgroup>
<col style="width: 16%;">
<col style="width: 16%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Paramètre</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom de l’équipement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom donné à votre équipement agenda iCalendar, il s&#8217;affiche sur le widget.<br>
<strong>Remarque :</strong><br>
- il est possible de le masquer si vous cocher l&#8217;option "Ne pas afficher le nom" dans la configuration de la commande;<br>
- ce nom contient également un lien depuis le dashboard permettant de revenir directement à la configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Objet parent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Liste de choix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associe l&#8217;équipement agenda iCalendar à un objet (permettant de définir sa position sur le dashboard)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Si coché, active l&#8217;équipement.<br>
<strong>Remarque :</strong> Si l&#8217;option est décochée, l&#8217;équipement est désactivé et aucune requête ne sera demandée échangé avec votre agenda externe ; l&#8217;équipement est <em>"en attente"</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Visible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Si l&#8217;option est cochée, affiche l&#8217;équipement.<br>
<strong>Remarque :</strong> Si l&#8217;option est décochée, l&#8217;équipement fonctionne normalement; les requêtes continues d&#8217;être envoyées vers votre agenda externe, mais il ne s&#8217;affiche pas sur votre dashboard.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Catégorie</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(multichoix)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie la catégorie à laquelle est rattaché l&#8217;agenda.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commentaire</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de mettre à commentaire sur l&#8217;équipement.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Paramètres graphiques ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autre Widget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option vous permet de désactiver le widget standard du plugin et donc d&#8217;utiliser le widget jeedom ou de créer son propre widget.<br>
<em>(Il est conseillé de laisser cette option décochée, pour disposer de l&#8217;ensemble des fonctionnalités du plugin).</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ne pas afficher la date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Si l&#8217;option est cochée la date est masquée sur le widget; le texte "aujourd&#8217;hui : JJ MOIS AAAA (SW)" n&#8217;est pas affiché pour le Dashboard et les vues.<br>
Au niveau de la version mobile, le logo avec la date du jour n&#8217;est pas affiché.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format d&#8217;affichage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie le format d&#8217;affichage des calendiers, soit en mode verticale (standard) ou en mode horizontale.<br>
<strong>Remarque:</strong> Ne s&#8217;applique que pour la version Dashboard; la version mobile est toujours verticale.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Paramètres événements ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ajouter Message sur "action"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option permet d&#8217;ajouter un message à la boite des messages jeedom, dans le cas où le plugin a déclenché une action, un scénario ou une intéraction.<br>
<strong>Remarque :</strong> Pour cela, il faut avoir autoriser les actions/scénario ou interaction au niveau de votre commande agenda.<br>
Cette option ne fonctionne pas dans le cas d&#8217;une utilisation par déclenchement de scénario sur mise à jour de la commande.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autorise "Rattrapage" / Période</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em><br>
<br>
Liste de choix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L&#8217;activation de cette option permet de pouvoir lancer des actions/scénario/intéraction, mais si l&#8217;heure exacte de l&#8217;événement est dépassé.<br>
Le plugin dispose alors d&#8217;une fenêtre de temps pour déclencher ces actions, si elles n&#8217;ont pas été faite dans les temps.<br>
<strong>Remarque:</strong> Ce paramètre est surtout utile au petite config (RPI1) qui pouvait par moment se retrouve en dehors de la minute de début ou de fin de l&#8217;événement et l&#8217;action ne se lançait pas.<br>
<em>(exemple: événement débute à 8h30, hors à 30, il y a bcq de cron lancé. On pouvait constater que le cron minute était en fait traité à 31 ; l&#8217;instant T ne correspondant plus à l&#8217;heure de début de l&#8217;événement, les actions/sénarios associés étaient ignorées)</em><br>
Cette option peut aussi être utile en cas de coupure de courant coute, vous pourrez rattraper des actions non exécutées.<br>
<br>
Les périodes disponibles sont :<br>
- les 2 dernières minutes<br>
- les 5 dernières minutes<br>
- les 15 dernières minutes<br>
- l&#8217;heure précédente<br>
<strong>Remarque:</strong> ces 4 périodes sont en glissante par rapport à l&#8217;instant T.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Paramètres synchronisation ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fréquence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Liste de choix<br>
<em>(30 min, par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L&#8217;utilisateur peut configurer la période de rafraîchissement du fichier cache (minimum 30 min) ; (cf. tableau Annexe 2).</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_description_des_paramètres_de_la_commande">2.3. Description des paramètres de la commande</h3>
<div class="paragraph">
<p>Un bouton "Ajouter un Agenda", permet de créer un nouvel agenda avec ces propres paramètre de commandes (pour une meilleure lecture, l&#8217;affichage présente un tableau par agenda)<br></p>
</div>
<div class="paragraph">
<p>Les agendas peuvent être triés par ordre d&#8217;affichage, en cliquant sur l&#8217;icône "double flêches" en haut à gauche et en déplaçant le tableau de haut en bas.<br></p>
</div>
<div class="paragraph">
<p><strong>Remarque:</strong> Le bouton "Aide à la saisie d&#8217;actions/scénarios au sein d&#8217;un événement" vous permet assister à la création du format à placer dans le champs description de votre événément.<br>
Pour rappel, le lancement automatiques d&#8217;actions par le plugin n&#8217;est possible que si l&#8217;option activer les actions/scénarios est validée au niveau de votre commande agenda. (cf. Annexe 1 : "Aide à la saisie d&#8217;un évènement dans votre agenda").</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot3.jpg" alt="iCalendar_screenshot3"></span></p>
</div>
<table class="tableblock frame-topbot grid-all spread">
<colgroup>
<col style="width: 16%;">
<col style="width: 16%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Paramètre</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Nom et URL ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de donner un nom au calendrier ; cette valeur s&#8217;affiche dans la zone de titre du calendier sur le widget.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom ics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom récupéré au niveau du fichier ICS ; valeur non modifiable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type d&#8217;agenda</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vous permet de définir le type d&#8217;agenda que vous configuré et la méthode de récupération de l&#8217;ICS. Les choix possibles sont :<br>
- <code>récupération d&#8217;un fichier ics</code> : correspond au téléchargement d&#8217;un fichier issue d&#8217;un serveur tier ;<br>
- <code>lecture d&#8217;un agenda CalDav</code> : permet de récuéprer le contenu d&#8217;un agenda CalDav et d&#8217;avoir un fichier ics local ;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL de l&#8217;agenda</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définit l&#8217;URL du fichier ics. Pour retrouver l&#8217;URL, voir l&#8217;Annexe 3.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utilisateur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(s&#8217;affiche uniquement en "caldav")<br>
Permet de définir le nom de l&#8217;utilisateur du serveur CalDav.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mot de passe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(s&#8217;affiche uniquement en "caldav")<br>
Permet de définir le mot de passe de l&#8217;utilisateur du serveur CalDav.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom agenda</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(s&#8217;affiche uniquement en "caldav")<br>
Caldav offrant la possibilité d&#8217;avoir plusieurs agendas actif, vous pouvez spécifié ici le nom de l&#8217;agenda à récupérer.<br>
Ce champs n&#8217;est pas obligatoire; s&#8217;il est non renseigné, le plugin prendra le 1er agenda retourné par le serveur Caldav ("personnal" généralement).<br>
<strong>Remarque:</strong> un bouton d&#8217;aide vous permet de visualiser la liste des agendas disponibles et de copier le nom de l&#8217;agenda souhaité.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Données d&#8217;utilisation ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format donnée</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste<br>
<em>("événement sur la journée" par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définit le "format" à afficher au niveau du widget et contenu dans la commande ; 3 valeurs sont disponibles (cf. Annexe 4) :<br>
- <code>événement sur la journée</code> : affiche et traite tous les évènements de la journée (passés, en cours, à venir) ;<br>
- <code>événement heure à venir</code> : affiche et traite les événements courants, + ceux de l&#8217;heure à venir (même s&#8217;ils n&#8217;ont pas démarré) ;<br>
- <code>événement courant</code> : affiche et traite les événements en cours uniquement ;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Titre uniquement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option n&#8217;est disponible que si "format de donnée" = " événement courant".<br>
Le contenu de la commande agenda est alors la plus simpliste possible, elle ne présente que les titres ; tous les paramètres annexes (id, état) à l&#8217;événement ne sont pas disponibles.<br>
<strong>Remarque: Si vous utilisez cette option, l&#8217;option "Autoriser les scénarios/actions" sera INVALIDEE techniquement.</strong><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Période à traiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste<br>
<em>("jour courant" par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définit le nombre de jours à traier :<br>
- <code>jour courant</code> : gère les données de la journée courante au niveau de la commande "J0" ;<br>
- <code>+ lendemain</code> : gère les données de la journée courante et celles du lendemain (J0+J1) ;<br>
- <code>+ 2jours</code> : gère les données de la journée courante et celles des 2 jours suivants (J0+J1+J2) ;<br>
- <code>1 semaine</code> : gère les données de la journée courante et celles des 6 jours suivants (J0 à J6) ;<br>
<strong>Remarque:</strong> n&#8217;est disponible que si "format de donnée" = "événement sur la journée".<br>
Dans le cas où vous êtes dans une configuration supérieure à la journée courante, une icône orange apparait à coté du titre; en cliquant dessus, la liste des commandes associées aux autres journées apparait en dessous du tableau.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valeur par défaut</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de texte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valeur affichée par défaut, lorsqu&#8217;il n&#8217;y a aucun évènement dans le planning.<br>
<strong>Remarque :</strong> Si rien n&#8217;est indiqué, la valeur "Aucun" est retournée.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicateurs début/fin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de définir si les indicateurs de début/de fin d&#8217;évènement sont utilisés, aussi bien à l&#8217;affichage et aussi pour l&#8217;execution d&#8217;une action/scénario;<br>
- Si coché : les indicateurs "Début" (<span class="yellow-background">;DA;</span>) et "Fin" (<span class="yellow-background">;FA;</span>) d&#8217;activité sont utilisés en complément de l&#8217;incidateur "Actif"<br>
- Si décoché : seul l&#8217;indicateur d&#8217;état "Actif" est utilisé (<span class="yellow-background">;A;</span>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autoriser les scénarios/Actions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option permet au plugin de lancer automatiquement les scénarios ou actions, si la description de l&#8217;événement respecte correctement le format attendue pour cette action (cf. Annexe 1 : "Aide à la saisie d&#8217;un évènement").</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autoriser les interactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cette option permet au plugin de lancer une recherche d&#8217;interaction sur la base du titre de l&#8217;événement.<br>
<strong>Remarque:</strong> cette option ne s&#8217;active uniquement que sur les événements qui n&#8217;ont pas d&#8217;action/scénario configuré dans leur description.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Historiser les actions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A chaque action/scénario/interaction lancé par le plugin, l&#8217;action produite est tracée (pour ne pas être relancé plus tard).<br>
Cette option permet conserver ces actions traitées au delà de la journée courante.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Option graphique ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Afficher calendrier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(coché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paramètre graphique ; permet de définir si le calendrier doit être affiché dans le widget.<br>
<strong>Remarque :</strong> ce paramètre n&#8217;est que graphique, il n&#8217;impacte pas les données (celles-ci continuent d&#8217;être traitées, même si l&#8217;option est désactivée).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Afficher heure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(coché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paramètre graphique ; permet de définir si les heures de début et de fin sont affichées dans le widget.<br>
<strong>Remarque :</strong> ce paramètre n&#8217;est que graphique, il n&#8217;impacte pas les données (l&#8217;heure continue d&#8217;être présente dans la donnée, même si l&#8217;option est désactivée).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Afficher heure event de 24h</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(coché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paramètre graphique ; permet de définir si les heures de début et de fin sont affichées pour les évènements durant toute la journée (24 h) dans le widget.<br>
Le paramètre n&#8217;est pas affiché si l&#8217;option "Afficher heure" est décochée.<br>
<strong>Remarque :</strong> ce paramètre n&#8217;est que graphique, il n&#8217;impacte pas les données (celles-ci continuent d&#8217;être traitées, même si l&#8217;option est désactivée).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Afficher l&#8217;emplacement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(coché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paramètre graphique ; permet d&#8217;affiché l&#8217;information de lieu disponible au niveau de l&#8217;événement.<br>
<strong>Remarque:</strong> Cette information n&#8217;est disponible qu&#8217;à l&#8217;affichage pour l&#8217;instant; vous pouvez aussi la récupérer au niveau d&#8217;un scénario via la fonction "getLocation".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Période à afficher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de liste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définit le nombre de jours à afficher sur le widget :<br>
- <code>jour courant</code> : affiche les données de la journée courante;<br>
- <code>+ lendemain</code> : affiche les données de la journée courante et celles du lendemain;<br>
- <code>+ 2jours</code> : affiche les données de la journée courante et celles des 2 jours suivants;<br>
- <code>1 semaine</code> : affiche les données de la journée courante et celles des 6 jours suivants;<br>
<strong>Remarque:</strong> le nombre de jours proposé dépend de la valeur sélectionnée au niveau de l&#8217;option "Période à traiter".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Actions ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paramètre (roue crantée)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de définir les options "Jeedom" de la commande.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tester</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de tester la commande (affiche le contenu de la commande).<br>
<strong>Remarque :</strong> la donnée s&#8217;affiche uniquement après un 1er rafrachissement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supprimer</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de supprimer la commande et les commandes rattachées (si agenda sur plusieurs jours).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Id</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valeur de l&#8217;id de la commande ; cet id est créé après l&#8217;enregistrement de l&#8217;équipement.<br>
<strong>Remarque :</strong> Cette valeur est utilisée dans les logs, pour identifier les actions réalisées au niveau du plugin.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">=== Informations de synchro ===</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date du fichier</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">indique la date du dernier téléchargement et sauvegarde en cache du fichier ics.<br>
<strong>Remarque:</strong> lors d&#8217;une synchronisation, le fichier peut ne pas être sauvegardé en cache, si les 2 fichiers sont identiques.<br>
Un bouton "télécharger", vous permet de récupérer le fichier actuellement en cache pour une lecture local sur votre poste de travail.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date synchro précédente</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">indique la date de la dernière synchronisation entre jeedom et votre agenda ics.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date synchro suivante</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">indique la date de la prochaine synchronisation entre jeedom et votre agenda ics.<br>
<strong>Remarque:</strong> si la valeur est "STOP", cela signifie que votre équipement est désactivé.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-topbot grid-all spread">
<colgroup>
<col style="width: 16%;">
<col style="width: 16%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="3">=== Options de sauvegarde ===</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forcer la synchronisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkbox<br>
<em>(décoché par défaut)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permet de forcer la synchronisation du fichier cache en dehors des plages horaires.</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_exemple_d_un_écran_listant_les_noms_des_agendas_caldav">Exemple d&#8217;un écran listant les noms des agendas CalDav</h5>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_caldav1.PNG" alt="iCalendar_caldav1"></span>
<br>
<br></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="_présentation_du_widget">2.4. Présentation du Widget</h3>
<div class="paragraph">
<p>Le widget se présente sous la forme suivante, si aucun style n&#8217;est appliqué :</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot1.jpg" alt="iCalendar_screenshot1"></span>
<span class="image"><img src="../images/iCalendar_screenshot6.jpg" alt="iCalendar_screenshot6"></span></p>
</div>
<div class="paragraph">
<p>Au niveau d&#8217;un Calendrier :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Le nombre d&#8217;événements est affiché à coté du titre du Calendrier ;</p>
<div class="ulist">
<ul>
<li>
<p>En passant la souris sur le titre de l&#8217;agenda : affiche le type d&#8217;affichage, ainsi que les dates de collecte et de valeur ;</p>
</li>
</ul>
</div>
</li>
<li>
<p>Les évènements passés sont grisés ;</p>
</li>
<li>
<p>Les évènements en cours sont repérés par une icône "Actif" (mais aussi 1ère minute et dernière minute, si l&#8217;option est active) ;</p>
</li>
<li>
<p>Les évènements à venir sont représentés sans indicateur ;</p>
</li>
<li>
<p>Les évènements identifiés avec des actions de type (Scénarios ou Actions) sont représentés par : (seulement si l&#8217;option "autoriser les scénarios/actions" est activée) :</p>
<div class="ulist">
<ul>
<li>
<p>Une icône "roues crantées" indique que l&#8217;événement déclenche des scénarios ou actions ;</p>
<div class="ulist">
<ul>
<li>
<p>en cliquant dessus, la liste des scénarios ou actions configurés en début ou fin d&#8217;événement est affichée ;<br>
En cliquant une seconde fois, ou sur une autre roue la fenêtre d&#8217;information actuelle se masque ;</p>
</li>
<li>
<p>en cliquant sur le nom du scénario ou de l&#8217;action, la page de configuration s&#8217;ouvre ;</p>
</li>
<li>
<p>une icône verte apparait sur à coté de l&#8217;action/scénario pour indiqué qu&#8217;il a bien été exécuté ;<br>
En passant la sourie sur l&#8217;icône, il est possible de voir la date de traitement.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Une icône "bulle de BD" indique que l&#8217;événement peut déclencher une intéraction ;</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>La 2nde image montre comment il est possible de personnaliser le widget en utilisant les class (cf. Annexe 6).</p>
</div>
<div class="sect3">
<h4 id="_autres_fonctionnalités">2.4.1. Autres fonctionnalités :</h4>
<div class="ulist">
<ul>
<li>
<p>Le widget peut être redimensionné en largeur et hauteur ; du moment que les tailles souhaitées soient supérieures à l&#8217;espace minimum prévus pour l&#8217;affiage des données.
En cas de dimensionnement inférieur, un message d&#8217;erreur est affiché.</p>
</li>
<li>
<p>Vous pouvez également ré-ordonner les agendas directement via le widget (maintenez la souris enfoncée sur la zone de titre de l&#8217;agenda, et déplacer vers le haut ou le bas).</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="_présentation_du_panel_avec_liste_des_actions_historisées_et_visualisation_de_l_agenda">2.5. Présentation du panel : avec liste des actions historisées et visualisation de l&#8217;agenda</h3>
<div class="paragraph">
<p>Vous pouvez atteindre ce menu en sélectionnant le menu "Accueil", puis "iCalendar".<br></p>
</div>
<div class="paragraph">
<p><strong>Visualisation de l&#8217;agenda :</strong><br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot8.jpg" alt="iCalendar_screenshot8"></span></p>
</div>
<div class="paragraph">
<p>Après avoir sélectionné un agenda, vous pouvez cliquer sur le type d&#8217;affichage souhaité "Calendrier" (bouton en haut à gauche).<br>
Vous pouvez alors parcourir votre agenda comme si vous étiez sur la version "distante" (Google, etc&#8230;&#8203;).<br>
La période d&#8217;affichage est toutefois restrainte ; elle respecte la plage suivante : les 3 mois précédents la date du jour et les 6 mois suivants.<br></p>
</div>
<div class="paragraph">
<p><strong>Remarque:</strong> Cette période n&#8217;est pas paramétrage pour l&#8217;instant; elle est juste rappelée en haut à droite de l&#8217;écran.<br>
Dans le cas de petite config, le temps d&#8217;affichage de cet écran peut être long la 1ère fois de la journée, un cache est ensuite utilisée tout au long de la journée.<br>
<br>
En cliquant sur un événement, une fenêtre apparait, permettant d&#8217;avoir des détails complémentaires.<br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot10.jpg" alt="iCalendar_screenshot10"></span>
<br>
<br>
<strong>Actions historisées :</strong><br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot9.jpg" alt="iCalendar_screenshot9"></span></p>
</div>
<div class="paragraph">
<p>Si vous avez activer "Historiser les actions", vous pourrez retrouver dans cet écran les actions/scénarios/interactions où une tentative d&#8217;exécution a été traitée.<br>
En haut à droite, vous pouvez définir la période de visualisation ; par défaut, les derniers jours.<br>
<br>
La liste présente par jour, le nom du scénario ou de l&#8217;action traitée, avec son heure de traitement.<br>
La dernière colonne permet d&#8217;avoir des informations sur l&#8217;événement associé / ayant demandé le lancement de cette action/scénario.<br>
Dans le cas d&#8217;une intéraction, l&#8217;information affichée correspond à la "réponse" retournée par l&#8217;intéraction (mais en aucun cas son nom) ; si aucune réponse n&#8217;a été faite, il est indiqué "Non reconnu".<br>
<br>
En dessous de la date, vous pouvez supprimer les données historisées pour cette journée.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_utilisation_des_données">2.6. Utilisation des données</h3>
<div class="ulist">
<ul>
<li>
<p>Par configuration d&#8217;un événement avec valeur des "scénario/action" dans la description de l&#8217;événement :<br>
Les scénarios et les actions/commandes (si leur id est valide et actif) sont lancés automatiquement à l&#8217;heure souhaitée.</p>
</li>
<li>
<p>Par déclencheur dans un scénario :<br>
Dans une condition IF, il faut rechercher la présence du nom de l&#8217;évènement ; on peut aussi le faire précéder de l&#8217;état.
La recherche se fait en utilisant l&#8217;argument de comparaison "contient" <code>~</code>.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 16%;">
<col style="width: 83%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nom uniquement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recherche de la présence d&#8217;un nom : cmd_iCal~"mon event"<br>
<em>exemple : #[MA_CMD]#~"déjeuner"</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etat actif</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recherche d&#8217;un état actif pour un événement précis : cmd_iCal~"A;mon event"<br>
<em>exemple : #[MA_CMD]#~"A;Volet RDC"</em><br>
<strong>Remarque :</strong> ce test contient aussi les états des 1ère et dernière minutes ; pour ne pas en tenir compte, il faut écrire :<br>
<em>#[MA_CMD]#~";A;Volet RDC"</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etat actif : 1ère minute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recherche de la 1ère minute d&#8217;un état actif pour un événement précis : cmd_iCal~";DA;mon event"<br>
<em>exemple : #[MA_CMD]#~";DA;Volet RDC"</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etat actif : dernière minute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recherche de la dernière minute d&#8217;un état actif pour un événement précis : cmd_iCal~";FA;mon event"<br>
<em>exemple : #[MA_CMD]#~";FA;Volet RDC"</em><br>
<strong>Remarque :</strong> La borne de fin sera configurée 1 minute avant l&#8217;heure configurée (exemple pour 18h, l&#8217;indicateur sera affiché à 17h59); sauf pour 23h59.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>En fonction de la version de Jeedom, l&#8217;utilisation des doubles côtes <code>"</code>, autours du nom de la commande peut être nécessaire ; à partir de la V2, le test doit être fait sans ces doubles côtes. <br></p>
</div>
<div class="paragraph">
<p>L&#8217;utilisation de l&#8217;état n&#8217;a un intérêt que si le paramètre "Format donnée" utilisé est : "événement heure à venir" ou "événement sur la journée".</p>
</div>
<div class="paragraph">
<p><strong>REMARQUE:</strong> Lorsque l&#8217;agenda ne traite qu&#8217;un seul événément, l&#8217;utilisation du format "événement courant" avec "titre uniquement" n&#8217;est pas la seule solution.
Vous pouvez très bien utiliser également les formats "heure à venir" et "journée", en précisant le contenu exacte de l&#8217;événement.
Soit un <code>#[MA_CMD]#="Congé"</code> en "événement courant", équivaut à <code>#[MA_CMD]#~";A;Congé;"</code> dans un autre format (respecter bien l&#8217;utilidation des <code>;</code>).</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_cron_et_rafraîchissement_de_données">2.7. Cron et Rafraîchissement de données</h3>
<div class="paragraph">
<p><strong>Récupération des données :</strong><br>
Les données récupérées correspondent à une journée complète, mais sont récupérées en fonction du paramétrage défini (minimum 30 minutes); elles sont enregistrées en cache utilisé par le plugin.<br>
Si vous faites des modifications dans votre agenda ics, ils ne seront visibles qu&#8217;au moment d&#8217;une période de rafraîchissement.<br></p>
</div>
<div class="paragraph">
<p><strong>Cron :</strong><br>
Le système vérifie toutes les minutes en cache s&#8217;il y a des évènements, et précise l&#8217;état de l&#8217;évènement (en fonction du format choisi).<br>
Il est donc possible de configurer/programmer des évènements à la minute près.<br></p>
</div>
<div class="paragraph">
<p>En l&#8217;absence d&#8217;accès internet, le cache disponible est sur l&#8217;ensemble de l&#8217;agenda configuré (et non uniquement sur la journée courante).<br></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="__santé_des_échanges_réseaux">2.8. "Santé" des échanges réseaux</h3>
<div class="paragraph">
<p>Afin de vous permettre d&#8217;avoir une vision sur la validité des synchronisation, une information est remontée au niveau de la page "Santé".<br>
Dans la session "iCalendar", vous pouvez voir pour chacun de vos agendas, l&#8217;état des 15 dernières synchro réalisées:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Si la synchro s&#8217;est correctement déroulée, un <code>o</code> est affiché.</p>
</li>
<li>
<p>Si la synchro a rencontré un problème réseau (non accès à l&#8217;url), une <code>X</code> est affichée.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot7.jpg" alt="iCalendar_screenshot7"></span></p>
</div>
<div class="paragraph">
<p>L&#8217;ordre de lecture de ces états est le suivant : le 1er de la liste correspond au test de synchro le dernier en date ; la dernière information de la liste correspond à l&#8217;état le plus ancien connu.<br>
Ces états sont renseignées à chaque synchro (soit à chaque période définie dans votre configuration de l&#8217;équipement, ou au moment de l&#8217;enregistrement de l&#8217;équipement si vous avez forcée la synchro).</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_annexes">2.9. Annexes</h3>
<div class="sect3">
<h4 id="__em_annexe_1_aide_à_la_saisie_d_un_évènement_action_scénario_ou_commande_action_dans_votre_agenda_em">2.9.1. <em>Annexe 1 : Aide à la saisie d&#8217;un évènement "Action" (scénario ou commande action) dans votre agenda</em></h4>
<div class="paragraph">
<p>Ce paragraphe vous explique comment configurer un évènement agenda pour permettre de lancer automatiquement les scénarios ou des commandes actions.<br>
Pour que le plugin reconnaisse que l&#8217;évènement est de type "Action", il doit se présenter sous une forme particulière au niveau du champs "description" de l&#8217;événement.<br></p>
</div>
<div class="paragraph">
<p><strong>-- Cas du format "Scénario"</strong> :<br>
Le format attendu doit être du type : <code>période (DA ou FA)|sc=id du sénario|nom de la variable=valeur de la variable</code><br>
<em>exemple : <code>DA|sc=3|varVolet=ON</code> </em> , pour action à la 1ère minute (DA), lancement du scénario id="3", et passage de variable au scénario (variable "varVolet", avec la valeur "ON").</p>
</div>
<div class="paragraph">
<p>Il est aussi possible d&#8217;activer ou désactiver un scénario par ce procédé ; ces valeurs sont présentes en fin de liste des choix "nom de la variable".<br>
En saisie manuelle, mettre : "#active" pour activer le scénario ou "#desactive" pour désactiver le scénario.<br>
Par contre, ne pas mettre de valeur de variable pour que cette action soit prise en compte.<br>
<em>exemple : <code>DA|sc=3|#active</code> </em><br>
<strong>Remarque:</strong> ces 2 actions ne permettent pas de lancer le scénario, mais juste agir dessus.<br>
<br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot4.jpg" alt="iCalendar_screenshot4"></span></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Champs</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type d&#8217;action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie le type d&#8217;action à produire (commande action ou scénario), ici "Scénario"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1ère minute : nom du scénario</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le scénario à exécuter depuis l&#8217;évènement à la 1ère minute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1ère minute : nom de la variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le nom de la variable à utiliser pour un traitement au niveau du scénario ; cette variable sera utilisée pour faire transiter les informations définies au moment de la 1ère minute.<br>
<em>Valeur non obligatoire, si vous n&#8217;avez pas besoin de passer de paramètre</em> <br>
<strong>Remarque :</strong> la variable doit être créée avant l&#8217;utilisation de l&#8217;aide (pour apparaître dans la liste des variables).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1ère minute : valeur de la variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valeur à passer à la variable lors du démarrage de l&#8217;événement (1ère minute), lors de l&#8217;état <span class="yellow-background">;DA;</span>.<br>
<em>Valeur non obligatoire. Exemple : ON</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dernière minute : nom du scénario</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le scénario à exécuter depuis l&#8217;évènement à la dernière minute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dernière minute : nom de la variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le nom de la variable à utiliser pour un traitement au niveau du scénario ; cette variable sera utilisée pour faire transiter les informations définies au moment de la dernière minute.<br>
<em>Valeur non obligatoire, si vous n&#8217;avez pas besoin de passer de paramètre</em> <br>
<strong>Remarque :</strong> la variable doit être créée avant l&#8217;utilisation de l&#8217;aide (pour apparaître dans la liste des variables).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dernière minute : valeur de la variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valeur à passer à la variable à la fin de l&#8217;événement (dernière minute), lors de l&#8217;état <span class="yellow-background">;FA;</span>.<br>
<em>Valeur non obligatoire. Exemple : ON</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>valeur générée</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Après avoir cliqué sur le bouton "Générer", cette zone représente la syntaxe générée en fonction des valeurs définies ci-dessus.<br>
Il est possible de lancer plusieurs sénario à la 1ère minute ou dernière minute.<br>
Un bouton RAZ permet de remettre à vide la zone.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>-- Cas du format "Action"</strong> :<br>
Le format attendu doit être du type : <code>période (DA ou FA)|act=commande(id ou nom)|option de commande=valeur</code><br>
<em>exemple : <code>FA|act=[obj][equipment][cmd]|slider=4</code> </em> , pour action à la dernière minute (FA), lancement d&#8217;une commande action "cmd" de l&#8217;équipement "equipement", et passage de la valeur 4 (commande de type "slider").<br>
<br>
Remarque : les options de commande sont dépendant de la commande utilisée et donc ne sont pas obligatoires.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_screenshot5.jpg" alt="iCalendar_screenshot5"></span></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Champs</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type d&#8217;action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie le type d&#8217;action à produire (commande action ou scénario), ici "Action"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format de la commande</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Définie si la valeur de l&#8217;ID est positionné ou le format de commande Jeedom (soit [obj][equip][cmd]).<br>
<strong>Remarque:</strong> avec l&#8217;id, vous n&#8217;est pas dépendant du nom de la commande ou de l&#8217;équipement. Toute modification sur ce dernier n&#8217;aura pas d&#8217;impact sur le traitement/l&#8217;action de la commande.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1ère minute : commande action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le nom de la commande à utiliser à la 1ère minute.<br>
Si cette commande utilise des options (slider, titre/message), vous pourrez alors les compléter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dernière minute : commande action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sélectionner le nom de la commande à utiliser à la dernière minute.<br>
Si cette commande utilise des options (slider, titre/message), vous pourrez alors les compléter.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>-- Opération à réaliser :</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Une fois, les informations renseignées, cliquez sur le bouton "Générer".</p>
</li>
<li>
<p>La zone grise est complétée, copiez là (ctrl + C).</p>
</li>
<li>
<p>Collez (ctlr + V) l&#8217;information dans le champs DESCRIPTION d&#8217;un évènement de votre agenda.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>REMARQUE:</strong> les anciens formats de trames au niveau du titre sont encore supportés par le plugin, mais seront bientôt supprimé du plugin au profit de cette nouvelle gestion.<br>
Pensez à modifier vos configurations pour un traitement avancé du plugin et sa maintenance future.</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="__em_annexe_2_fréquence_de_rafraîchissement_em">2.9.2. <em>Annexe 2 : Fréquence de rafraîchissement</em></h4>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<colgroup>
<col style="width: 33%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Valeur</th>
<th class="tableblock halign-left valign-top">Heure du rafraîchissement</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30 min.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aux minutes : 00, 30, de chaque heure.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 h.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A la minute : 00, de chaque heure.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 h.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A : minuit (00h), 3h, 6h, 9h, 12h, 15h, 18h, 21h.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 h.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A : minuit (00h), 6h, 12h, 18h.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 h.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A : minuit (00h) et midi (12h)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 h.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique à minuit (00h)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Remarque :</strong> <em>en dehors de ces horaires, aucun rafraîchissement n&#8217;est réalisé.</em></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="__em_annexe_3_url_privée_des_agendas_google_em">2.9.3. <em>Annexe 3 : URL privée des agendas Google</em></h4>
<div class="paragraph">
<p>Une fois connecté à l&#8217;agenda Google, vous pouvez récupérer l'<strong>URL PRIVEE</strong> de votre agenda comme ceci.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cliquez sur le nom de l&#8217;agenda que vous souhaitez récupérer sous Jeedom et choisir le menu "Paramètres de l&#8217;agenda" ;<br></p>
</li>
<li>
<p>Allez à la session "Adresse URL Privée" et cliquer sur "ICS" ;<br></p>
</li>
<li>
<p>La popup s&#8217;ouvre et présente l&#8217;URL à copier dans Jeedom ;</p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="__em_annexe_4_format_des_données_widget_et_structure_des_commandes_em">2.9.4. <em>Annexe 4 : Format des données (Widget et structure des commandes)</em></h4>
<div class="paragraph">
<p>Lorsque la synchronisation est réalisée, le plugin va positionner au niveau de la commande agenda, les informations des événements de votre calendrier pour la journée courante.<br></p>
</div>
<div class="paragraph">
<p>Il existe 2 formats :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>version "simple" (diponible pour "événement courant", avec titre uniquement à OUI) :</p>
<div class="ulist">
<ul>
<li>
<p>chaque évènement est séparé par des "||" ;</p>
</li>
<li>
<p>la donnée ne contient que les titres des événements, aucune autre information "technique" n&#8217;est présente dans la commande ;</p>
</li>
</ul>
</div>
</li>
<li>
<p>version standard/complète (pour tout autre paramétrage) :</p>
<div class="ulist">
<ul>
<li>
<p>chaque évènement est séparé par des "||" ;</p>
</li>
<li>
<p>les données au sein d&#8217;un évènement sont séparés par des ";" (point-virgule) ;</p>
</li>
<li>
<p>les données disponibles sont :</p>
<div class="ulist">
<ul>
<li>
<p><code>heure_début;heure_fin;statut;titre de l&#8217;événement;uid;doAct/doInter;date_update;location</code></p>
</li>
<li>
<p>où heure_début, et heure_fin sont des bornes de l&#8217;événement pour la journée courante ;</p>
</li>
<li>
<p>statut : définie l&#8217;état de l&#8217;événement à l&#8217;instant T; pouvant prendre les valeurs : vide (à venir), DA (1ère minute), A (actif) ,FA (dernière minute), P (passé) ;</p>
</li>
<li>
<p>uid : est l&#8217;idée technique de l&#8217;événement (utilisée pour la liaison avec des données techniques en caches) ;</p>
</li>
<li>
<p>doAct/doInter : définie si cet événement présente des commandes actions ou scénarios à éxecuter en début ou fin d&#8217;événement ; ou une intéraction en début d&#8217;événement.</p>
</li>
<li>
<p>date_update : correspond au timestamps update de l&#8217;événement ;</p>
</li>
<li>
<p>location : correspond au lieu de l&#8217;événement s&#8217;il est définie dans votre agenda.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Remarque :</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>le plugin sait gérer différents formats d&#8217;évènement :</p>
<div class="ulist">
<ul>
<li>
<p>heure au sein d&#8217;une journée (ex : 23/02 de 10h à 11h) ;</p>
</li>
<li>
<p>journée complète (ex : 23/02, généralement décrit 23/02 0h à 24/02 0h) : sera transformé en 23/02 0h-23h59 au niveau de la commande et du widget</p>
</li>
<li>
<p>plusieurs journées (ex : 23-25/02) : sera transformé en fonction du jour : 23/02 0h-23h59 , 24/02 0h-23h59, 25/02 0h-23h59</p>
</li>
<li>
<p>plusieurs journées avec horaire (ex : 23/02 à 10h et 25/02 à 14h) : sera transformé en fonction du jour : 23/02 10h-23h59, 24/02 0h-23h59, 25/02 0h-14h</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="__em_annexe_5_données_des_évenements_au_niveau_des_scénarios_via_fonctions_em">2.9.5. <em>Annexe 5 : Données des évenements au niveau des scénarios via "fonctions"</em></h4>
<div class="paragraph">
<p>Pour rappel, une commande agenda retourne des données brutes restectant les formats de données décrits au niveau de l&#8217;annexe précédente.<br>
Toutefois une commande complémentaire est disponible au niveau de chaque "agenda", nommé <code><em>nom de la commande agenda</em> (ExecuteFunction-<em>idCommande</em>)</code><br>
Cette commande disponible au niveau des scénarios est de type "message" et est composé d&#8217;un nom de fonction (titre) et d&#8217;argements (message).<br>
Après avoir sélectionné cette commande dans une action de scénario, tapez la lettre "g" dans la zone "fonction", les fonctions disponibles apparaitront (avec en mémo, un rappel de l&#8217;utilisation au niveau des arguments).<br>
<br>
<strong>L&#8217;événement recherché ne peut être que sur la journée courante et doit être en cours ou à venir.</strong> Les événements passés ne peuvent plus être analysés.<br></p>
</div>
<div class="paragraph">
<p><strong>Le titre passé en argument doit être exacte</strong> également (exemple : absence) ; la fonction "contient" n&#8217;est pas encore mise en place.<br>
Si plusieurs titres correspondent, le 1er est retourné.<br></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 95%;">
<colgroup>
<col style="width: 16%;">
<col style="width: 33%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fonction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">arguments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getTimeStart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">donne l&#8217;heure de début de l&#8217;événement choisit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- en 1ère ligne : mettre le titre de l&#8217;événenement à rechercher, le texte doit être exacte ;<br>
soit <span class="yellow-background">title=xxx</span>, exemple : title=Volet RDC<br>
- en 2nde ligne, il est possible de préciser un format de retour pour la date ; comme dans tout le reste au niveau de jeedom, les possibilités de format sont équivalent à ceux de php.<br>
soit <span class="yellow-background">date=xxx</span>, exemple : date=H:i:s ou date=d/m H:i<br>
<strong>Remarque:</strong> Si cette 2nde ligne n&#8217;est pas renseignée, la valeur retournée est au format timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getTimeEnd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">donne l&#8217;heure de fin de l&#8217;événement choisit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- en 1ère ligne : mettre le titre de l&#8217;événenement à rechercher, le texte doit être exacte ;<br>
soit <span class="yellow-background">title=xxx</span>, exemple : title=Volet RDC<br>
- en 2nde ligne, il est possible de préciser un format de retour pour la date ; comme dans tout le reste au niveau de jeedom, les possibilités de format sont équivalent à ceux de php.<br>
soit <span class="yellow-background">date=xxx</span>, exemple : date=H:i:s ou date=d/m H:i<br>
<strong>Remarque:</strong> Si cette 2nde ligne n&#8217;est pas renseignée, la valeur retournée est au format timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getUid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">donne l&#8217;id technique de l&#8217;événement choisit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- en 1ère ligne : mettre le titre de l&#8217;événenement à rechercher, le texte doit être exacte ;<br>
soit <span class="yellow-background">title=xxx</span>, exemple : title=Volet RDC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getTitle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">donne le titre de l&#8217;événement choisit en fonction d&#8217;un id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- en 1ère ligne : mettre l&#8217;id (uid) de l&#8217;événenement à rechercher, le texte doit être exacte ;<br>
soit <span class="yellow-background">uid=xxx</span>, exemple : uid=<a href="mailto:23424houi877sdf@google.com">23424houi877sdf@google.com</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getLocation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">donne le lieu de l&#8217;événement choisit en fonction d&#8217;un id ou d&#8217;un titre</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- en 1ère ligne : mettre le titre de l&#8217;événenement à rechercher, le texte doit être exacte ;<br>
soit <span class="yellow-background">title=xxx</span>, exemple : title=Volet RDC<br>
(un id peut aussi être passé en paramètre; exemple: uid=<a href="mailto:23424houi877sdf@google.com">23424houi877sdf@google.com</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getDaySimple</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">retourne une trame simplifiée de tous les événements de la journée courante (quelque soit le statut de l&#8217;événement).<br>
Le contenu est : l&#8217;heure de début, l&#8217;heure de fin et le titre.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aucun (zone laissée vide)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getDayTitleOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">retourne une trame simplifiée avec tous les événéments de la journée courante (quelque soit le statut de l&#8217;événement).<br>
Le contenu est : uniquement le titre.<br>
Remarque: cette fonction correspond à la même chose que l&#8217;option "titre uniquement", mais ici valable sur toute la journée.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aucun (zone laissée vide)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getDayActifOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">retourne une trame simplifiée avec uniquement les événéments actif de la journée courante.<br>
Le contenu est : l&#8217;heure de début, l&#8217;heure de fin et le titre.<br>
Remarque: cette fonction correspond à la même chose que l&#8217;option format donnée = "événement courant".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aucun (zone laissée vide)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getDayActifAndTitleOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">retourne une trame simplifiée avec uniquement les événements actif de la journée courante.<br>
Le contenu est : uniquement le titre.<br>
Remarque: cette fonction correspond à la même chose que l&#8217;option format donnée = "événement courant" et "titre uniquement".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aucun (zone laissée vide)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Les commandes actions ne retournent pas de valeur, le résultat de la fonction sera donc placée dans une variable de scénario, prenant la forme : <code>nomDeLaFonction_IdCommandeAgenda</code> (exemple: getTimeStart_13456).<br>
Pour éviter toute erreur, cet id est rappelé dans le nom de la commande fonction.<br>
<br>
Par ailleurs, le traitement étant asynchrone, tout au long du traitement de la commande/fonction la variable de retour est positionnée à "-99".<br>
Dès lors que cette variable passe à une autre valeur, cela signifie que la fonction a termné son traitement.<br>
<br>
Si la fonction n&#8217;a rien trouvé ou a rencontré une erreur, la valeur de retour de non traitement est "-1".<br>
<br>
<strong>Remarque pour les fonction "getDay&#8230;&#8203;":</strong><br>
1/ pour l&#8217;utilisation de ces fonctions, il est consillé d&#8217;être dans un format de donnée différent de "événement courant".
En effet, ce format étant déjà très limité, ces fonctions spécifiques de formatage de la trame pourraient ne pas s&#8217;appliquer.<br>
Si ce cas s&#8217;applique, le retour prendra la valeur "-1" et un message d&#8217;erreur sera précisée dans la log.<br>
2/ le séparateur entre les événements est un double pipe "||".<br>
Si vous souhaitez utiliser un autre séparateur pour de l&#8217;affichage dans  un mail par exemple, vous pouvez faire un changement de caractère comme suite (ici retour à la ligne) :<br>
<code>str_replace("||", "\n", variable(getDaySimple_123))</code><br>
<br></p>
</div>
<div class="sect4">
<h5 id="_processus_d_utilisation_dans_un_scénario">Processus d&#8217;utilisation dans un scénario :</h5>
<div class="ulist">
<ul>
<li>
<p>1/ Sélectionner votre commande agenda permettant d&#8217;excuter des fonctions au niveau d&#8217;une zone "action".</p>
</li>
<li>
<p>2/ Dans la zone "fonction", taper "get" et sélectionner dans la liste la fonction souhaitée (cf. ci-dessus).</p>
</li>
<li>
<p>3/ Ajouter une commande action avec la fonction "wait" ;<br>
<strong>Remarque:</strong> les temps de réponses des fonctions sont relativement rapide, mais il est préférable d&#8217;avoir une tempo pour s&#8217;assurer que la valeur retournée est bien celle attendue, pour la suite du scénario.<br>
La saisie doit être du type : <code>variable(getTimeEnd_12345) != -99</code> , (avec un timeout de 5sec par exemple).<br></p>
</li>
<li>
<p>4/ une fois cette condition passée, vous pouvez utiliser votre variable dans la suite du scénario.<br>
<strong>Remarque:</strong> Il est conseillé de faire d&#8217;abord un test sur la pertinence de votre variable : autre que "-1".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/iCalendar_scenarioFonction.PNG" alt="iCalendar_scenarioFonction"></span></p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="__em_annexe_6_les_classes_css_disponibles_em">2.9.6. <em>Annexe 6 : Les classes CSS disponibles</em></h4>
<div class="paragraph">
<p>Vous pouvez utiliser 3 paramètres au niveau des options de la tuille de l&#8217;agenda pour gérer les couleurs :</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 70%;">
<colgroup>
<col style="width: 33%;">
<col style="width: 66%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bgColor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Couleur de fond de la tuille</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bgTitleColor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Couleur de fond de la zone de titre (nom de l&#8217;agenda, et zone actions)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bgItemColor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Couleur de fond de la zone de liste (événements et actions)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Mais pour les utiliseurs qui veulent aller plus loin dans la configuration, voici les classes CSS disponibles pour personnaliser le widget du plugin :</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 70%;">
<colgroup>
<col style="width: 33%;">
<col style="width: 66%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de titre de la tuile</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de date de la tuile</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_calTitle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de titre de l&#8217;agenda</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_items</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone d&#8217;information principale</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_itemActif</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">évènement "Actif" (en cours)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_itemInactif</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">évènement "Inactif" (passé ou à venir)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_zoneListAct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sur fenêtre affichant la liste des actions / scénarios</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iCalendar_titleListAct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zone de titre de la liste des actions / scénarios</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_faq">3. FAQ</h2>
<div class="sectionbody">
<div class="openblock panel">
<div class="title">Peut-on avoir les futurs évènements ?</div><div class="content">
<div class="paragraph">
<p>Avec les valeurs "événement heure à venir" et "événement sur la journée" du paramètre "format donnée" : oui d&#8217;un point de vue affichage sur le widget.<br>
Par contre, le traitement de futurs évènements n&#8217;est pas possible (ils ne sont présents qu&#8217;en terme d&#8217;affichage), sauf si vous parcer les informations.</p>
</div>
</div>
</div>
<div class="openblock panel">
<div class="title">J&#8217;ai modifié mon agenda et l&#8217;évènement n&#8217;apparaît pas&#8230;&#8203;</div><div class="content">
<div class="paragraph">
<p>Le rafraîchissement du cache est réalisé en fonction du paramétrage que vous avez configuré (minimum 30 min).<br>
Toutes modifications sur l&#8217;agenda n&#8217;apparaîtront sur le plugin iCalendar qu&#8217;aux heures fixes liées à la configuration définies (cf. doc).<br>
Mais il est possible de forcer cette synchronisation au moment de l&#8217;enregistrement de l&#8217;agenda (équipement).</p>
</div>
</div>
</div>
<div class="openblock panel">
<div class="title">Quelle période de l&#8217;agenda est affichée dans le widget ?</div><div class="content">
<div class="paragraph">
<p>La récupération des données et l&#8217;affichage dans le widget ne traitent que des données de la journée courante.<br>
Si l&#8217;évènement fait plus d&#8217;une journée, les heures de début et de fin sont présentées uniquement pour la journée en cours.<br>
<em>(exemple si l&#8217;évènement est configurée sur jour1 10h - jour2 10h; le jour 1, il sera affiché: 10h-23h59 et jour2: 0h-10h)</em><br>
Même pour une configuration en "heure suivante", les informations seront affichées uniquement jusqu&#8217;à 23h59.</p>
</div>
</div>
</div>
<div class="openblock panel">
<div class="title">Les bornes sont-elles incluses ?</div><div class="content">
<div class="paragraph">
<p>L&#8217;heure de début est incluse : la 1ère minute est "active" et remonte l&#8217;information <span class="yellow-background">;DA;</span> (exemple: 10h-18h: 10h00 contient <span class="yellow-background">;DA;</span>)<br>
L&#8217;heure de fin n&#8217;est pas incluse dans la période d&#8217;activité, c&#8217;est la dernière minute précédente qui présente l&#8217;information <span class="yellow-background">;FA;</span> ; sauf pour 23h59.<br>
<em>(exemple 1 : 10h-18h: 17h59 contient <span class="yellow-background">;FA;</span>, à 18h00 l&#8217;évènement est terminé et non actif, <span class="yellow-background">;A;</span> n&#8217;est plus présent)</em>.<br>
<em>(exemple 2: 19h-0h: l&#8217;heure de fin est convertie en 23h59 et contient <span class="yellow-background">;FA;</span>, à 0h l&#8217;évènement est terminé et non actif, <span class="yellow-background">;A;</span> n&#8217;est plus présent).</em></p>
</div>
</div>
</div>
<div class="openblock panel">
<div class="title">Sur la version mobile, je ne vois pas les évènements passés en affichage journée&#8230;&#8203;</div><div class="content">
<div class="paragraph">
<p>Sur la version mobile, seuls les évènements en cours et à venir sont affichés. Même en mode journée, les évènements passés ne sont plus affichés (contrairement à l&#8217;affichage dashboard).</p>
</div>
</div>
</div>
<div class="openblock panel">
<div class="title">J&#8217;ai des messages d&#8217;erreur du type "La commande action : [objet][equipement][cmd], est inconnue pour l événement suivant : mon titre événement. Revoir la configuration de votre événement" qui s&#8217;affiche au niveau de la messagerie Jeedom ?</div><div class="content">
<div class="paragraph">
<p>L&#8217;id ou le nom de la commande, ou l&#8217;id du scénario que vous déclaré en tant qu&#8217;action dans votre événement n&#8217;existe pas (ou plus) dans Jeedom.
Vous devez vérifier si vous n&#8217;avez pas modifié cette commande/scénario et faire la modification dans votre événement au niveau de votre agenda.</p>
</div>
</div>
</div>
<div class="openblock panel">
<div class="title">Existe-il un agenda des jours fériés ?</div><div class="content">
<div class="paragraph">
<p>Oui il existe un agenda google qui liste les jours fériés, l&#8217;URL est la suivante (ici pour la France) :<br>
<a href="https://calendar.google.com/calendar/ical/fr.french%23holiday%40group.v.calendar.google.com/public/basic.ics" class="bare">https://calendar.google.com/calendar/ical/fr.french%23holiday%40group.v.calendar.google.com/public/basic.ics</a>
<strong>Remarque :</strong> par contre, ce calendrier présente aussi des évènements (comme la fête des mères) qui ne sont pas des jours fériés &#8230;&#8203; :(</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshoting">4. Troubleshoting</h2>
<div class="sectionbody">
<div class="openblock panel">
<div class="title">Mes scénarios réagissent à des évènements passées ou futurs (mode prochaine heure ou journée)</div><div class="content">
<div class="paragraph">
<p>Dans l&#8217;analyse de la trame, il faut vérifier que vous êtes sur un évènement actif; en vérifiant que <span class="yellow-background">;A;</span> est présent. <em>(exemple : "&#8230;&#8203;"~";A;mon event")</em>.
Voir la documentation pour plus d&#8217;explications.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_roadmap">5. Roadmap</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>modification d&#8217;événement via jeedom (sans synchro avec le serveur distant dans le mode téléchargement ics) ;<br></p>
</li>
<li>
<p>gestion des événements + Todo (modif, création, supression) pour le mode CalDav ;<br></p>
</li>
<li>
<p>définir un offset à l&#8217;événement sur heure de début ou de fin ;<br></p>
</li>
<li>
<p>mise en place de la synchro via un daemon ;<br></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_version_documentaire">6. Version documentaire</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Mise à jour le : 27 février 2016</em><br></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>